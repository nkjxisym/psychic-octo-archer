(function(){var be=false;var bf=!!document.createElement("canvas").getContext;var bg={Chart:{width:500,height:400,zoomEnabled:false,backgroundColor:"white",theme:"theme1",animationEnabled:bf?true:false,colorSet:"colorSet1",culture:"en",creditHref:"http://canvasjs.com/",creditText:"CanvasJS.com",interactivityEnabled:true},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:5},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null},ToolTip:{enabled:true,borderColor:null,shared:false,animationEnabled:true,content:null},Axis:{minimum:null,maximum:null,interval:null,intervalType:null,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:false,labelWrap:true,labelMaxWidth:null,prefix:"",suffix:"",includeZero:true,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,gridColor:"A0A0A0",gridThickness:0,interlacedColor:null,valueFormatString:null,margin:2,stripLines:[]},StripLine:{value:null,startValue:null,endValue:null,color:"orange",thickness:2,label:"",labelBackgroundColor:"#EEEEEE",labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal"},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:false,cursor:null,indexLabel:"",indexLabelPlacement:"outside",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:null,indexLabelLineThickness:1,indexLabelMaxWidth:null,indexLabelWrap:true,lineThickness:2,color:null,startAngle:0,type:"column",xValueType:"number",axisYType:"primary",xValueFormatString:null,yValueFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:null,markerBorderThickness:null,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:true},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"}};var bh={"en":{}};var bi={"colorSet1":["#369EAD","#C24642","#7F6084","#86B402","#A2D1CF","#C8B631","#6DBCEB","#52514E","#4F81BC","#A064A1","#F79647"],"colorSet2":["#4F81BC","#C0504E","#9BBB58","#23BFAA","#8064A1","#4AACC5","#F79647","#33558B"],"colorSet3":["#8CA1BC","#36845C","#017E82","#8CB9D0","#708C98","#94838D","#F08891","#0366A7","#008276","#EE7757","#E5BA3A","#F2990B","#03557B","#782970"]};var bj={"theme1":{Chart:{colorSet:"colorSet1"},Title:{fontFamily:bf?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:bf?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontFamily:bf?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:bf?"monospace, sans-serif,arial black":"calibri"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:bf?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineThickness:1}},"theme2":{Chart:{colorSet:"colorSet2"},Title:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:32,fontColor:"#333333",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:bf?"monospace, sans-serif,arial black":"arial",titleFontWeight:"bold",labelFontFamily:bf?"monospace, Courier New, Courier":"arial",labelFontSize:16,labelFontColor:"grey",labelFontWeight:"bold",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:0},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:bf?"monospace, sans-serif,arial black":"arial"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:bf?"Courier New, Courier, monospace":"arial",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineThickness:1}},"theme3":{Chart:{colorSet:"colorSet1"},Title:{fontFamily:bf?"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif":"calibri",fontSize:32,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:bf?"Verdana, Geneva, Calibri, sans-serif":"calibri",labelFontFamily:bf?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:2,lineColor:"grey"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:bf?"monospace, sans-serif,arial black":"calibri"},DataSeries:{bevelEnabled:true,indexLabelFontColor:"grey",indexLabelFontFamily:bf?"Candara, Optima, Calibri, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}}};var bk={numberDuration:1,yearDuration:1000*60*60*24*364,monthDuration:1000*60*60*24*30,weekDuration:1000*60*60*24*7,dayDuration:1000*60*60*24,hourDuration:1000*60*60,minuteDuration:1000*60,secondDuration:1000,millisecondDuration:1,dayOfWeekFromInt:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};function extend(a,b){a.prototype=inherit(b.prototype);a.prototype.constructor=a;a.parent=b.prototype}function inherit(a){function F(){}F.prototype=a;return new F()}function addToDateTime(a,b,c){if(c==="millisecond")a.setMilliseconds(a.getMilliseconds()+1*b);else if(c==="second")a.setSeconds(a.getSeconds()+1*b);else if(c==="minute")a.setMinutes(a.getMinutes()+1*b);else if(c==="hour")a.setHours(a.getHours()+1*b);else if(c==="day")a.setDate(a.getDate()+1*b);else if(c==="week")a.setDate(a.getDate()+7*b);else if(c==="month")a.setMonth(a.getMonth()+1*b);else if(c==="year")a.setFullYear(a.getFullYear()+1*b);return a}function convertToNumber(a,b){return bk[b+"Duration"]*a}function pad(a,b){var c=false;if(a<0){c=true;a*=-1}a=""+a;b=!b?1:b;while(a.length<b)a="0"+a;return c?"-"+a:a}function trimString(a){if(!a)return a;a=a.replace(/^\s\s*/,'');var b=/\s/;var i=a.length;while(b.test(a.charAt(--i))){}return a.slice(0,i+1)}function extendCtx(g){g.roundRect=function(x,y,a,b,c,d,e,f){if(e){this.fillStyle=e}if(f){this.strokeStyle=f}if(typeof c==="undefined"){c=5}this.lineWidth=d;this.beginPath();this.moveTo(x+c,y);this.lineTo(x+a-c,y);this.quadraticCurveTo(x+a,y,x+a,y+c);this.lineTo(x+a,y+b-c);this.quadraticCurveTo(x+a,y+b,x+a-c,y+b);this.lineTo(x+c,y+b);this.quadraticCurveTo(x,y+b,x,y+b-c);this.lineTo(x,y+c);this.quadraticCurveTo(x,y,x+c,y);this.closePath();if(e){this.fill()}if(f&&d>0){this.stroke()}}}function compareNumbers(a,b){return a-b}function compareDataPointX(a,b){return a.x-b.x}function intToHexColorString(a){var r=((a&0xFF0000)>>16).toString(16);var g=((a&0x00FF00)>>8).toString(16);var b=((a&0x0000FF)>>0).toString(16);r=r.length<2?"0"+r:r;g=g.length<2?"0"+g:g;b=b.length<2?"0"+b:b;return"#"+r+g+b}function RGBToInt(r,g,b){var a=(r<<16)|(g<<8)|(b);return a}function intToRGB(a){var c=[];var r=((a&0xFF0000)>>16);var g=((a&0x00FF00)>>8);var b=((a&0x0000FF)>>0);c[0]=r;c[1]=g;c[2]=b;return c}var bl={};var bm=null;function getFontHeightInPixels(a,b,c){c=c||"normal";var d=a+"_"+b+"_"+c;var f=bl[d];if(isNaN(f)){try{var g="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;"+"font-family:"+a+"; "+"font-size:"+b+"px; font-weight:"+c+";";if(!bm){var h=document.body;bm=document.createElement("span");bm.innerHTML="";var i=document.createTextNode("Mpgyi");bm.appendChild(i);h.appendChild(bm)}bm.style.display="";bm.setAttribute("style",g);f=Math.round(bm.offsetHeight);bm.style.display="none"}catch(e){f=Math.ceil(b*1.1)}f=Math.max(f,b);bl[d]=f}return f}function addEvent(a,b,c,d){if(a.addEventListener){a.addEventListener(b,c,d||false)}else if(a.attachEvent){a.attachEvent("on"+b,function(e){e=e||window.event;e.preventDefault=e.preventDefault||function(){e.returnValue=false};e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=true};c.call(a,e)})}else return false}var bn=function(){var u=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g;var v=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var x=["January","February","March","April","May","June","July","August","September","October","November","December"];var y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var z=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g;var A=/[^-+\dA-Z]/g;return function(b,c,d){var e=d?d.days:v;var f=d?d.months:x;var g=d?d.shortDays:w;var h=d?d.shortMonths:y;var i="";var j=false;b=b&&b.getTime?b:b?new Date(b):new Date;if(isNaN(b))throw SyntaxError("invalid date");if(c.slice(0,4)==="UTC:"){c=c.slice(4);j=true}var k=j?"getUTC":"get";var l=b[k+"Date"]();var m=b[k+"Day"]();var n=b[k+"Month"]();var o=b[k+"FullYear"]();var p=b[k+"Hours"]();var q=b[k+"Minutes"]();var r=b[k+"Seconds"]();var s=b[k+"Milliseconds"]();var t=j?0:b.getTimezoneOffset();i=c.replace(u,function(a){switch(a){case"D":return l;case"DD":return pad(l,2);case"DDD":return g[m];case"DDDD":return e[m];case"M":return n+1;case"MM":return pad(n+1,2);case"MMM":return h[n];case"MMMM":return f[n];case"Y":return parseInt(String(o).slice(-2));case"YY":return pad(String(o).slice(-2),2);case"YYY":return pad(String(o).slice(-3),3);case"YYYY":return pad(o,4);case"h":return p%12||12;case"hh":return pad(p%12||12,2);case"H":return p;case"HH":return pad(p,2);case"m":return q;case"mm":return pad(q,2);case"s":return r;case"ss":return pad(r,2);case"f":return String(s).slice(0,1);case"ff":return pad(String(s).slice(0,2),2);case"fff":return pad(String(s).slice(0,3),3);case"t":return p<12?"a":"p";case"tt":return p<12?"am":"pm";case"T":return p<12?"A":"P";case"TT":return p<12?"AM":"PM";case"K":return j?"UTC":(String(b).match(z)||[""]).pop().replace(A,"");case"z":return(t>0?"-":"+")+Math.floor(Math.abs(t)/60);case"zz":return(t>0?"-":"+")+pad(Math.floor(Math.abs(t)/60),2);case"zzz":return(t>0?"-":"+")+pad(Math.floor(Math.abs(t)/60),2)+pad(Math.abs(t)%60,2);default:return a.slice(1,a.length-1)}});return i}}();var bo=function(v,b,c){if(v===null)return"";v=Number(v);var d=v<0?true:false;if(d)v*=-1;var e=c?c.decimalSeparator:".";var f=c?c.digitGroupSeparator:",";var g="";b=String(b);var h=1;var j;var k="";var l="";var m=-1;var n=[];var o=[];var p=0;var q=0;var r=0;var s=false;var t=0;l=b.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|‰|./g);var u=null;for(var i=0;l&&i<l.length;i++){u=l[i];if(u==="."&&m<0){m=i;continue}else if(u==="%"){h*=100}else if(u==="‰"){h*=1000;continue}else if(u[0]===","&&u[u.length-1]==="."){h/=Math.pow(1000,u.length-1);m=i+u.length-1;continue}else if((u[0]==="E"||u[0]==="e")&&u[u.length-1]==="0"){s=true}if(m<0){n.push(u);if(u==="#"||u==="0")p++;else if(u===",")r++}else{o.push(u);if(u==="#"||u==="0")q++}}if(s){var w=Math.floor(v);t=(w===0?"":String(w)).length-p;h/=Math.pow(10,t)}v*=h;if(m<0)m=i;g=v.toFixed(q);var x=g.split(".");var y=(x[0]+"").split("");var z=(x[1]+"").split("");if(y&&y[0]==="0")y.shift();var A=0;var B=0;var C=0;var D=0;var E=0;while(n.length>0){u=n.pop();if(u==="#"||u==="0"){A++;if(A===p){var F=y;y=[];if(u==="0"){var G=p-B-(F?F.length:0);while(G>0){F.unshift("0");G--}}while(F.length>0){k=F.pop()+k;E++;if(E%D===0&&C===r&&F.length>0)k=f+k}if(d)k="-"+k}else{if(y.length>0){k=y.pop()+k;B++;E++}else if(u==="0"){k="0"+k;B++;E++}if(E%D===0&&C===r&&y.length>0)k=f+k}}else if((u[0]==="E"||u[0]==="e")&&u[u.length-1]==="0"&&/[eE][+-]*[0]+/.test(u)){if(t<0)u=u.replace("+","").replace("-","");else u=u.replace("-","");k+=u.replace(/[0]+/,function(a){return pad(t,a.length)})}else{if(u===","){C++;D=E;E=0;if(y.length>0)k=f+k}else if(u.length>1&&((u[0]==="\""&&u[u.length-1]==="\"")||(u[0]==="'"&&u[u.length-1]==="'"))){k=u.slice(1,u.length-1)+k}else k=u+k}}var H=0;var I="";var J=false;while(o.length>0){u=o.shift();if(u==="#"||u==="0"){if(z.length>0&&Number(z.join(""))!==0){I+=z.shift();J=true}else if(u==="0"){I+="0";J=true}}else if(u.length>1&&((u[0]==="\""&&u[u.length-1]==="\"")||(u[0]==="'"&&u[u.length-1]==="'"))){I+=u.slice(1,u.length-1)}else if((u[0]==="E"||u[0]==="e")&&u[u.length-1]==="0"&&/[eE][+-]*[0]+/.test(u)){if(t<0)u=u.replace("+","").replace("-","");else u=u.replace("-","");I+=u.replace(/[0]+/,function(a){return pad(t,a.length)})}else{I+=u}}k+=(J?e:"")+I;return k};function getObjectId(x,y,a){x*=bt;y*=bt;var b=a.getImageData(x,y,2,2).data;var c=true;for(var i=0;i<4;i++){if(b[i]!==b[i+4]|b[i]!==b[i+8]|b[i]!==b[i+12]){c=false;break}}if(c){return RGBToInt(b[0],b[1],b[2])}else{return 0}}var bp=function(a){var x=0;var y=0;a=a||window.event;if(a.offsetX||a.offsetX===0){x=a.offsetX;y=a.offsetY}else if(a.layerX||a.layerX==0){x=a.layerX;y=a.layerY}else{x=a.pageX-a.target.offsetLeft;y=a.pageY-a.target.offsetTop}return{x:x,y:y}};function getFontString(a,b,c){var d="";var e=a?a+"FontStyle":"fontStyle";var f=a?a+"FontWeight":"fontWeight";var g=a?a+"FontSize":"fontSize";var h=a?a+"FontFamily":"fontFamily";d+=b[e]?b[e]+" ":(c&&c[e])?(c[e]+" "):"";d+=b[f]?b[f]+" ":(c&&c[f])?(c[f]+" "):"";d+=b[g]?b[g]+"px ":(c&&c[g])?(c[g]+"px "):"";var i=b[h]?b[h]+"":(c&&c[h])?(c[h]+""):"";if(!bf&&i){var j=i.split(",")[0];if(j[0]!=="'"&&j[0]!=="\"")j="'"+j+"'";d+=j}else d+=i;return d}function getProperty(a,b,c){var d=a in b?b[a]:c[a];return d}var bq=true;var br=window.devicePixelRatio||1;var bs=1;var bt=bq?br/bs:1;function setCanvasSize(a,b,c){if(bf&&!!bq){var d=a.getContext("2d");bs=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;bt=br/bs;a.width=b*bt;a.height=c*bt;if(br!==bs){a.style.width=b+'px';a.style.height=c+'px';d.scale(bt,bt)}}else{a.width=b;a.height=c}}function createCanvas(a,b){var c=document.createElement("canvas");c.setAttribute("class","canvasjs-chart-canvas");setCanvasSize(c,a,b);if(!bf&&typeof(G_vmlCanvasManager)!=="undefined"){G_vmlCanvasManager.initElement(c)}return c}function CanvasJSObject(a,b,c){this._defaultsKey=a;var d={};if(c&&bj[c]&&bj[c][a])d=bj[c][a];this._options=b?b:{};this.setOptions(this._options,d)}CanvasJSObject.prototype.setOptions=function(a,b){if(!bg[this._defaultsKey]){if(be&&window.console)console.log("defaults not set")}else{var c=bg[this._defaultsKey];for(var d in c){if(a&&d in a)this[d]=a[d];else if(b&&d in b)this[d]=b[d];else this[d]=c[d]}}};CanvasJSObject.prototype.updateOption=function(a){if(!bg[this._defaultsKey]&&be&&window.console)console.log("defaults not set");var b=bg[this._defaultsKey];var c=this._options.theme?this._options.theme:(this.chart&&this.chart._options.theme)?this.chart._options.theme:"theme1";var d={};var e=this[a];if(c&&bj[c]&&bj[c][this._defaultsKey])d=bj[c][this._defaultsKey];if(a in b){if(a in this._options)e=this._options[a];else if(d&&a in d)e=d[a];else e=b[a]}if(e===this[a])return false;this[a]=e;return true}CanvasJSObject.prototype.trackChanges=function(a){if(!this._options._oldOptions)this._options._oldOptions={};this._options._oldOptions[a]=this._options[a]};CanvasJSObject.prototype.isBeingTracked=function(a){if(!this._options._oldOptions)this._options._oldOptions={};if(this._options._oldOptions[a])return true;else return false};CanvasJSObject.prototype.hasOptionChanged=function(a){if(!this._options._oldOptions)this._options._oldOptions={};var b=!(this._options._oldOptions[a]===this._options[a]);return b};function Chart(a,b){b=b||{};Chart.parent.constructor.call(this,"Chart",b,b.theme?b.theme:"theme1");var c=this;this._containerId=a;this._objectsInitialized=false;this.ctx=null;this.overlaidCanvasCtx=null;this._indexLabels=[];this._panTimerId=0;this._lastTouchEventType="";this._lastTouchData=null;this.panEnabled=false;this._defaultCursor="default";this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0};this._dataInRenderedOrder=[];this._container=document.getElementById(this._containerId);if(!this._container){if(window.console)window.console.log("CanvasJS Error: Chart Container with id \""+this._containerId+"\" was not found");return}this._container.innerHTML="";var d=0;var f=0;if(this._options.width)d=this.width;else d=this._container.clientWidth>0?this._container.clientWidth:this.width;if(this._options.height)f=this.height;else f=this._container.clientHeight>0?this._container.clientHeight:this.height;this.width=d;this.height=f;this._selectedColorSet=typeof(bi[this.colorSet])!=="undefined"?bi[this.colorSet]:bi["colorSet1"];this._canvasJSContainer=document.createElement("div");this._canvasJSContainer.setAttribute("class","canvasjs-chart-container");this._canvasJSContainer.style.position="relative";this._canvasJSContainer.style.textAlign="left";this._canvasJSContainer.style.cursor="auto";if(!bf){this._canvasJSContainer.style.height="0px"}this._container.appendChild(this._canvasJSContainer);this.canvas=createCanvas(d,f);this.canvas.style.position="absolute";if(this.canvas.getContext){try{this.canvas.style.background=this.backgroundColor}catch(e){}this._canvasJSContainer.appendChild(this.canvas);this.ctx=this.canvas.getContext("2d");this.ctx.textBaseline="top";extendCtx(this.ctx)}else return;if(!bf){this.plotArea.canvas=createCanvas(d,f);this.plotArea.canvas.style.position="absolute";this.plotArea.canvas.setAttribute("class","plotAreaCanvas");this._canvasJSContainer.appendChild(this.plotArea.canvas);this.plotArea.ctx=this.plotArea.canvas.getContext("2d")}else{this.plotArea.ctx=this.ctx}this.overlaidCanvas=createCanvas(d,f);this.overlaidCanvas.style.position="absolute";this._canvasJSContainer.appendChild(this.overlaidCanvas);this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d");this.overlaidCanvasCtx.textBaseline="top";this._eventManager=new EventManager(this);addEvent(window,"resize",function(){if(c._updateSize())c.render()});this._toolBar=document.createElement("div");this._toolBar.setAttribute("class","canvasjs-chart-toolbar");this._toolBar.style.position="absolute";this._toolBar.style.top="0px";this._toolBar.style.right="0px";this._canvasJSContainer.appendChild(this._toolBar);this._toolBar.style.display="none";this.bounds={x1:0,y1:0,x2:this.width,y2:this.height};addEvent(this.overlaidCanvas,'click',function(e){c._mouseEventHandler(e)});addEvent(this.overlaidCanvas,'mousemove',function(e){c._mouseEventHandler(e)});addEvent(this.overlaidCanvas,'mouseup',function(e){c._mouseEventHandler(e)});addEvent(this.overlaidCanvas,'mousedown',function(e){c._mouseEventHandler(e)});addEvent(this.overlaidCanvas,'mouseout',function(e){c._mouseEventHandler(e)});addEvent(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(e){c._touchEventHandler(e)});addEvent(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":'touchmove',function(e){c._touchEventHandler(e)});addEvent(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":'touchend',function(e){c._touchEventHandler(e)});addEvent(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":'touchcancel',function(e){c._touchEventHandler(e)});if(!this._creditLink){this._creditLink=document.createElement("a");this._creditLink.setAttribute("class","canvasjs-chart-credit");this._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:3px;top:"+(this.height-14)+"px;color:dimgrey;text-decoration:none;font-size:10px;font-family:Lucida Grande, Lucida Sans Unicode, Arial, sans-serif");this._creditLink.setAttribute("tabIndex",-1);this._creditLink.setAttribute("target","_blank")}this._toolTip=new ToolTip(this,this._options.toolTip,this.theme);this.layoutManager=new LayoutManager(this);this.data=null;this.axisX=null;this.axisY=null;this.axisY2=null;this.renderCount=0;this.sessionVariables={axisX:{internalMinimum:null,internalMaximum:null},axisY:{internalMinimum:null,internalMaximum:null},axisY2:{internalMinimum:null,internalMaximum:null}}}extend(Chart,CanvasJSObject);Chart.prototype._updateOptions=function(){var a=this;this.updateOption("width");this.updateOption("height");this.updateOption("theme");if(this.updateOption("colorSet"))this._selectedColorSet=typeof(bi[this.colorSet])!=="undefined"?bi[this.colorSet]:bi["colorSet1"];if(this.updateOption("backgroundColor")){try{if(this.canvas.style.background!==this.backgroundColor)this.canvas.style.background=this.backgroundColor}catch(e){}}this.updateOption("animationEnabled");if(this._options.zoomEnabled){if(!this._zoomButton){this._zoomButton=document.createElement("button");this._zoomButton.appendChild(document.createTextNode("Pan"));this._toolBar.appendChild(this._zoomButton);addEvent(this._zoomButton,"click",function(){if(a.zoomEnabled){a.zoomEnabled=false;a.panEnabled=true;a._zoomButton.innerHTML=a._cultureInfo.zoomText}else{a.zoomEnabled=true;a.panEnabled=false;a._zoomButton.innerHTML=a._cultureInfo.panText}a.render()})}if(!this._resetButton){this._resetButton=document.createElement("button");this._resetButton.appendChild(document.createTextNode("Reset"));this._toolBar.appendChild(this._resetButton);addEvent(this._resetButton,"click",function(){a._toolTip.hide();if(a.zoomEnabled||a.panEnabled){a.zoomEnabled=true;a.panEnabled=false;a._zoomButton.innerHTML=a._cultureInfo.panText;a._defaultCursor="default";a.overlaidCanvas.style.cursor=a._defaultCursor}else{a.zoomEnabled=false;a.panEnabled=false}if(a._options.axisX&&a._options.axisX.minimum)a.sessionVariables.axisX.internalMinimum=a._options.axisX.minimum;else a.sessionVariables.axisX.internalMinimum=null;if(a._options.axisX&&a._options.axisX.maximum)a.sessionVariables.axisX.internalMaximum=a._options.axisX.maximum;else a.sessionVariables.axisX.internalMaximum=null;a.resetOverlayedCanvas();a._toolBar.style.display="none";a.render()});this.overlaidCanvas.style.cursor=a._defaultCursor}if(!this.zoomEnabled&&!this.panEnabled){if(!this._zoomButton){this.zoomEnabled=true;this.panEnabled=false}else{if(a._zoomButton.innerHTML===a._cultureInfo.zoomText){this.panEnabled=true;this.zoomEnabled=false}else{this.zoomEnabled=true;this.panEnabled=false}a._toolBar.style.display="inline"}}}else{this.zoomEnabled=false;this.panEnabled=false}this.updateOption("culture");this._cultureInfo=new CultureInfo(this,this._options.culture);if(this._toolBar.style.display!=="none"){var b=this.panEnabled?a._cultureInfo.zoomText:a._cultureInfo.panText;if(a._zoomButton.innerHTML!==b)a._zoomButton.innerHTML=b;if(a._resetButton.innerHTML!==a._cultureInfo.resetText)a._resetButton.innerHTML=a._cultureInfo.resetText}var c=this.updateOption("creditText");var d=this.updateOption("creditHref");if(this.renderCount===0||(c||d)){this._creditLink.setAttribute("href",this.creditHref);this._creditLink.innerHTML=this.creditText}if(this.creditHref&&this.creditText){if(!this._creditLink.parentElement)this._canvasJSContainer.appendChild(this._creditLink)}else if(this._creditLink.parentElement)this._canvasJSContainer.removeChild(this._creditLink);if(this._options.toolTip&&this._toolTip._options!==this._options.toolTip)this._toolTip._options=this._options.toolTip this._toolTip.updateOption("enabled");this._toolTip.updateOption("shared");this._toolTip.updateOption("animationEnabled");this._toolTip.updateOption("borderColor");this._toolTip.updateOption("content")}Chart.prototype._updateSize=function(){var a=0;var b=0;if(this._options.width)a=this.width;else this.width=a=this._container.clientWidth>0?this._container.clientWidth:this.width;if(this._options.height)b=this.height;else this.height=b=this._container.clientHeight>0?this._container.clientHeight:this.height;if(this.canvas.width!==a*bt||this.canvas.height!==b*bt){setCanvasSize(this.canvas,a,b);setCanvasSize(this.overlaidCanvas,a,b);setCanvasSize(this._eventManager.ghostCanvas,a,b);return true}return false}Chart.prototype._initialize=function(){this.pieDoughnutClickHandler=null;if(this.animationRequestId)this.cancelRequestAnimFrame.call(window,this.animationRequestId);this._updateOptions();this._updateSize();this.ctx.clearRect(0,0,this.width,this.height);this.ctx.beginPath();this.axisX=null;this.axisY=null;this.axisY2=null;this._indexLabels=[];this._dataInRenderedOrder=[];this._events=[];if(this._eventManager)this._eventManager.reset();this.plotInfo={axisPlacement:null,axisXValueType:null,plotTypes:[]};this.layoutManager.reset();this.data=[];var a=0;for(var b=0;b<this._options.data.length;b++){a++;if(!(!this._options.data[b].type||Chart._supportedChartTypes.indexOf(this._options.data[b].type)>=0))continue;var c=new DataSeries(this,this._options.data[b],this.theme,a-1,++this._eventManager.lastObjectId);if(c.name===null)c.name="DataSeries "+(a);if(c.color===null){if(this._options.data.length>1){c._colorSet=[this._selectedColorSet[c.index%this._selectedColorSet.length]];c.color=this._selectedColorSet[c.index%this._selectedColorSet.length]}else{if(c.type==="line"||c.type==="stepLine"||c.type==="spline"||c.type==="area"||c.type==="stepArea"||c.type==="splineArea"||c.type==="stackedArea"||c.type==="stackedArea100"){c._colorSet=[this._selectedColorSet[0]]}else c._colorSet=this._selectedColorSet}}else{c._colorSet=[c.color]}if(c.markerSize===null){if(((c.type==="line"||c.type==="stepLine"||c.type==="spline")&&c.dataPoints&&c.dataPoints.length<this.width/16)||c.type==="scatter"){c.markerSize=8}}if((c.type==="bubble"||c.type==="scatter")&&c.dataPoints){c.dataPoints.sort(compareDataPointX)}this.data.push(c);var d=c.axisPlacement;var e;if(d==="normal"){if(this.plotInfo.axisPlacement==="xySwapped"){e="You cannot combine \""+c.type+"\" with bar chart"}else if(this.plotInfo.axisPlacement==="none"){e="You cannot combine \""+c.type+"\" with pie chart"}else if(this.plotInfo.axisPlacement===null)this.plotInfo.axisPlacement="normal"}else if(d==="xySwapped"){if(this.plotInfo.axisPlacement==="normal"){e="You cannot combine \""+c.type+"\" with line, area, column or pie chart"}else if(this.plotInfo.axisPlacement==="none"){e="You cannot combine \""+c.type+"\" with pie chart"}else if(this.plotInfo.axisPlacement===null)this.plotInfo.axisPlacement="xySwapped"}else if(d=="none"){if(this.plotInfo.axisPlacement==="normal"){e="You cannot combine \""+c.type+"\" with line, area, column or bar chart"}else if(this.plotInfo.axisPlacement==="xySwapped"){e="You cannot combine \""+c.type+"\" with bar chart"}else if(this.plotInfo.axisPlacement===null)this.plotInfo.axisPlacement="none"}if(e&&window.console){window.console.log(e);return}}this._objectsInitialized=true}Chart._supportedChartTypes=["line","stepLine","spline","column","area","stepArea","splineArea","bar","bubble","scatter","stackedColumn","stackedColumn100","stackedBar","stackedBar100","stackedArea","stackedArea100","pie","doughnut"];if(!Chart._supportedChartTypes.indexOf){Chart._supportedChartTypes.indexOf=function(a){var b=this.length>>>0;var c=Number(arguments[1])||0;c=(c<0)?Math.ceil(c):Math.floor(c);if(c<0)c+=b;for(;c<b;c++){if(c in this&&this[c]===a)return c}return-1}}Chart.prototype.render=function(c){if(c)this._options=c;this._initialize();for(var i=0;i<this.data.length;i++){if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){if(!this.data[i].axisYType||this.data[i].axisYType==="primary"){if(!this.axisY){if(this.plotInfo.axisPlacement==="normal"){this.axisY=new Axis(this,this._options.axisY,"axisY","left")}else if(this.plotInfo.axisPlacement==="xySwapped"){this.axisY=new Axis(this,this._options.axisY,"axisY","bottom")}}this.data[i].axisY=this.axisY}else if(this.data[i].axisYType==="secondary"){if(!this.axisY2){if(this.plotInfo.axisPlacement==="normal"){this.axisY2=new Axis(this,this._options.axisY2,"axisY","right")}else if(this.plotInfo.axisPlacement==="xySwapped"){this.axisY2=new Axis(this,this._options.axisY2,"axisY","top")}}this.data[i].axisY=this.axisY2}if(!this.axisX){if(this.plotInfo.axisPlacement==="normal"){this.axisX=new Axis(this,this._options.axisX,"axisX","bottom")}else if(this.plotInfo.axisPlacement==="xySwapped"){this.axisX=new Axis(this,this._options.axisX,"axisX","left")}}this.data[i].axisX=this.axisX}}this._processData();if(this._options.title){this._title=new Title(this,this._options.title);this._title.render()}this.legend=new Legend(this,this._options.legend,this.theme);for(var i=0;i<this.data.length;i++){if(this.data[i].showInLegend)this.legend.dataSeries.push(this.data[i])}this.legend.render();if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){var d=this.layoutManager.getFreeSpace();Axis.setLayoutAndRender(this.axisX,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())}else if(this.plotInfo.axisPlacement==="none"){this.preparePlotArea()}else{return}for(var i=0;i<this.plotInfo.plotTypes.length;i++){var e=this.plotInfo.plotTypes[i];for(var j=0;j<e.plotUnits.length;j++){var f=e.plotUnits[j];if(f.type==="line")this.renderLine(f);else if(f.type==="stepLine")this.renderStepLine(f);else if(f.type==="spline")this.renderSpline(f);else if(f.type==="column")this.renderColumn(f);else if(f.type==="bar")this.renderBar(f);else if(f.type==="area")this.renderArea(f);else if(f.type==="stepArea")this.renderStepArea(f);else if(f.type==="splineArea")this.renderSplineArea(f);else if(f.type==="stackedColumn")this.renderStackedColumn(f);else if(f.type==="stackedColumn100")this.renderStackedColumn100(f);else if(f.type==="stackedBar")this.renderStackedBar(f);else if(f.type==="stackedBar100")this.renderStackedBar100(f);else if(f.type==="stackedArea")this.renderStackedArea(f);else if(f.type==="stackedArea100")this.renderStackedArea100(f);else if(f.type==="bubble")this.renderBubble(f);else if(f.type==="scatter")this.renderScatter(f);else if(f.type==="pie")this.renderPie(f);else if(f.type==="doughnut")this.renderPie(f);for(var k=0;k<f.dataSeriesIndexes.length;k++){this._dataInRenderedOrder.push(this.data[f.dataSeriesIndexes[k]])}}}if(this._indexLabels.length>0)this.renderIndexLabels();this.attachPlotAreaEventHandlers();if(!this.zoomEnabled&&!this.panEnabled&&this._toolBar.style.display!=="none"){this._toolBar.style.display="none"}this._toolTip._updateToolTip();this.renderCount++;if(be){var g=this;setTimeout(function(){var a=document.getElementById("ghostCanvasCopy");if(a){setCanvasSize(a,g.width,g.height);var b=a.getContext("2d");b.drawImage(g._eventManager.ghostCanvas,0,0)}},2000)}}Chart.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.zoomEnabled?"col-resize":"move",cursor:this.panEnabled?"move":"default",capture:true,bounds:this.plotArea})}Chart.prototype.categoriseDataSeries=function(){var a="";for(var i=0;i<this.data.length;i++){a=this.data[i]if(!a.dataPoints||a.dataPoints.length===0||!a.visible)continue;if(Chart._supportedChartTypes.indexOf(a.type)>=0){var b=null;var c=false;var d=null;var e=false;for(var j=0;j<this.plotInfo.plotTypes.length;j++){if(this.plotInfo.plotTypes[j].type===a.type){c=true;var b=this.plotInfo.plotTypes[j];break}}if(!c){b={type:a.type,totalDataSeries:0,plotUnits:[]};this.plotInfo.plotTypes.push(b)}for(var j=0;j<b.plotUnits.length;j++){if(b.plotUnits[j].axisYType===a.axisYType){e=true;var d=b.plotUnits[j];break}}if(!e){d={type:a.type,previousDataSeriesCount:0,index:b.plotUnits.length,plotType:b,axisYType:a.axisYType,axisY:a.axisYType==="primary"?this.axisY:this.axisY2,axisX:this.axisX,dataSeriesIndexes:[]}b.plotUnits.push(d)}b.totalDataSeries++;d.dataSeriesIndexes.push(i)}}for(var i=0;i<this.plotInfo.plotTypes.length;i++){var b=this.plotInfo.plotTypes[i];var f=0;for(var j=0;j<b.plotUnits.length;j++){b.plotUnits[j].previousDataSeriesCount=f;f+=b.plotUnits[j].dataSeriesIndexes.length}}}Chart.prototype.assignIdToDataPoints=function(){for(var i=0;i<this.data.length;i++){var a=this.data[i];if(!a.dataPoints)continue;var b=a.dataPoints.length;for(var j=0;j<b;j++){a.dataPointIds[j]=++this._eventManager.lastObjectId}}}Chart.prototype._processData=function(){this.assignIdToDataPoints();this.categoriseDataSeries();for(var i=0;i<this.plotInfo.plotTypes.length;i++){var a=this.plotInfo.plotTypes[i];for(var j=0;j<a.plotUnits.length;j++){var b=a.plotUnits[j];if(b.type==="line"||b.type==="stepLine"||b.type==="spline"||b.type==="column"||b.type==="area"||b.type==="stepArea"||b.type==="splineArea"||b.type==="bar"||b.type==="bubble"||b.type==="scatter")this._processMultiseriesPlotUnit(b);else if(b.type==="stackedColumn"||b.type==="stackedBar"||b.type==="stackedArea")this._processStackedPlotUnit(b);else if(b.type==="stackedColumn100"||b.type==="stackedBar100"||b.type==="stackedArea100")this._processStacked100PlotUnit(b)}}}Chart.prototype._processMultiseriesPlotUnit=function(a){if(!a.dataSeriesIndexes||a.dataSeriesIndexes.length<1)return;var b=a.axisY.dataInfo;var c=a.axisX.dataInfo;var d,dataPointY;var e=false;for(var j=0;j<a.dataSeriesIndexes.length;j++){var f=this.data[a.dataSeriesIndexes[j]];var i=0;var g=false;var h=false;if(f.axisPlacement==="normal"||f.axisPlacement==="xySwapped"){var k=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:(this._options.axisX&&this._options.axisX.minimum)?this._options.axisX.minimum:-Infinity;var l=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:(this._options.axisX&&this._options.axisX.maximum)?this._options.axisX.maximum:Infinity}if(f.dataPoints[i].x&&f.dataPoints[i].x.getTime||f.xValueType==="dateTime"){e=true}for(i=0;i<f.dataPoints.length;i++){if(typeof f.dataPoints[i].x==="undefined"){f.dataPoints[i].x=i}if(f.dataPoints[i].x.getTime){e=true;d=f.dataPoints[i].x.getTime()}else d=f.dataPoints[i].x;dataPointY=f.dataPoints[i].y;if(d<c.min)c.min=d;if(d>c.max)c.max=d;if(dataPointY<b.min)b.min=dataPointY;if(dataPointY>b.max)b.max=dataPointY;if(i>0){var m=d-f.dataPoints[i-1].x;m<0&&(m=m*-1);if(c.minDiff>m&&m!==0){c.minDiff=m}}if(d<k&&!g){continue}else if(!g){g=true;if(i>0){i-=2;continue}}if(d>l&&!h){h=true}else if(d>l&&h){continue}if(f.dataPoints[i].label)a.axisX.labels[d]=f.dataPoints[i].label;if(d<c.viewPortMin)c.viewPortMin=d;if(d>c.viewPortMax)c.viewPortMax=d;if(dataPointY===null)continue;if(dataPointY<b.viewPortMin)b.viewPortMin=dataPointY;if(dataPointY>b.viewPortMax)b.viewPortMax=dataPointY}this.plotInfo.axisXValueType=f.xValueType=e?"dateTime":"number"}}Chart.prototype._processStackedPlotUnit=function(a){if(!a.dataSeriesIndexes||a.dataSeriesIndexes.length<1)return;var b=a.axisY.dataInfo;var c=a.axisX.dataInfo;var d,dataPointY;var e=false;var f=[];var g=[];for(var j=0;j<a.dataSeriesIndexes.length;j++){var h=this.data[a.dataSeriesIndexes[j]];var i=0;var k=false;var l=false;if(h.axisPlacement==="normal"||h.axisPlacement==="xySwapped"){var m=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:(this._options.axisX&&this._options.axisX.minimum)?this._options.axisX.minimum:-Infinity;var n=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:(this._options.axisX&&this._options.axisX.maximum)?this._options.axisX.maximum:Infinity}if(h.dataPoints[i].x&&h.dataPoints[i].x.getTime||h.xValueType==="dateTime"){e=true}for(i=0;i<h.dataPoints.length;i++){if(typeof h.dataPoints[i].x==="undefined"){h.dataPoints[i].x=i}if(h.dataPoints[i].x.getTime){e=true;d=h.dataPoints[i].x.getTime()}else d=h.dataPoints[i].x;dataPointY=h.dataPoints[i].y;if(d<c.min)c.min=d;if(d>c.max)c.max=d;if(i>0){var o=d-h.dataPoints[i-1].x;o<0&&(o=o*-1);if(c.minDiff>o&&o!==0){c.minDiff=o}}if(d<m&&!k){continue}else if(!k){k=true;if(i>0){i-=2;continue}}if(d>n&&!l){l=true}else if(d>n&&l){continue}if(h.dataPoints[i].label)a.axisX.labels[d]=h.dataPoints[i].label;if(d<c.viewPortMin)c.viewPortMin=d;if(d>c.viewPortMax)c.viewPortMax=d;if(dataPointY===null)continue;if(dataPointY>=0){if(f[d])f[d]+=dataPointY;else f[d]=dataPointY}else{if(g[d])g[d]+=dataPointY;else g[d]=dataPointY}}this.plotInfo.axisXValueType=h.xValueType=e?"dateTime":"number"}for(i in f){if(isNaN(i)){continue}var p=f[i];if(p<b.min)b.min=p;if(p>b.max)b.max=p;if(i<c.viewPortMin||i>c.viewPortMax)continue;if(p<b.viewPortMin)b.viewPortMin=p;if(p>b.viewPortMax)b.viewPortMax=p}for(i in g){if(isNaN(i)){continue}var p=g[i];if(p<b.min)b.min=p;if(p>b.max)b.max=p;if(i<c.viewPortMin||i>c.viewPortMax)continue;if(p<b.viewPortMin)b.viewPortMin=p;if(p>b.viewPortMax)b.viewPortMax=p}}Chart.prototype._processStacked100PlotUnit=function(a){if(!a.dataSeriesIndexes||a.dataSeriesIndexes.length<1)return;var b=a.axisY.dataInfo;var c=a.axisX.dataInfo;var d,dataPointY;var e=false;var f=false;var g=false;var h=[];for(var j=0;j<a.dataSeriesIndexes.length;j++){var k=this.data[a.dataSeriesIndexes[j]];var i=0;var l=false;var m=false;if(k.axisPlacement==="normal"||k.axisPlacement==="xySwapped"){var n=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:(this._options.axisX&&this._options.axisX.minimum)?this._options.axisX.minimum:-Infinity;var o=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:(this._options.axisX&&this._options.axisX.maximum)?this._options.axisX.maximum:Infinity}if(k.dataPoints[i].x&&k.dataPoints[i].x.getTime||k.xValueType==="dateTime"){e=true}for(i=0;i<k.dataPoints.length;i++){if(typeof k.dataPoints[i].x==="undefined"){k.dataPoints[i].x=i}if(k.dataPoints[i].x.getTime){e=true;d=k.dataPoints[i].x.getTime()}else d=k.dataPoints[i].x;dataPointY=k.dataPoints[i].y;if(d<c.min)c.min=d;if(d>c.max)c.max=d;if(i>0){var p=d-k.dataPoints[i-1].x;p<0&&(p=p*-1);if(c.minDiff>p&&p!==0){c.minDiff=p}}if(d<n&&!l){continue}else if(!l){l=true;if(i>0){i-=2;continue}}if(d>o&&!m){m=true}else if(d>o&&m){continue}if(k.dataPoints[i].label)a.axisX.labels[d]=k.dataPoints[i].label;if(d<c.viewPortMin)c.viewPortMin=d;if(d>c.viewPortMax)c.viewPortMax=d;if(dataPointY===null)continue;if(dataPointY>=0){f=true}else{g=true}if(h[d])h[d]+=Math.abs(dataPointY);else h[d]=Math.abs(dataPointY)}this.plotInfo.axisXValueType=k.xValueType=e?"dateTime":"number"}if(f&&!g){b.max=99;b.min=1}else if(f&&g){b.max=99;b.min=-99}else if(!f&&g){b.max=-1;b.min=-99}b.viewPortMin=b.min;b.viewPortMax=b.max;a.dataPointYSums=h}Chart.prototype.getDataPointAtXY=function(a,b,c){c=c||false;var d=[];for(var i=this._dataInRenderedOrder.length-1;i>=0;i--){var e=this._dataInRenderedOrder[i];var f=null;f=e.getDataPointAtXY(a,b,c);if(f)d.push(f)}var g=null;var h=false;for(var m=0;m<d.length;m++){if(d[m].dataSeries.type==="line"||d[m].dataSeries.type==="stepLine"||d[m].dataSeries.type==="area"||d[m].dataSeries.type==="stepArea"){var j=getProperty("markerSize",d[m].dataPoint,d[m].dataSeries)||8;if(d[m].distance<=j/2){h=true;break}}}for(m=0;m<d.length;m++){if(h&&d[m].dataSeries.type!=="line"&&d[m].dataSeries.type!=="stepLine"&&d[m].dataSeries.type!=="area"&&d[m].dataSeries.type!=="stepArea")continue;if(!g){g=d[m]}else if(d[m].distance<=g.distance){g=d[m]}}return g}Chart.prototype.getObjectAtXY=function(a,b,c){c=c||false;var d=null;var e=this.getDataPointAtXY(a,b,c);if(e){d=e.dataSeries.dataPointIds[e.dataPointIndex]}else if(bf){d=getObjectId(a,b,this._eventManager.ghostCtx)}else{for(var i=0;i<this.legend.items.length;i++){var f=this.legend.items[i];if(a>=f.x1&&a<=f.x2&&b>=f.y1&&b<=f.y2){d=f.id}}}return d}Chart.prototype.getAutoFontSize=function(a,b,c){b=b||this.width;c=c||this.height;var d=a/400;return Math.round(Math.min(this.width,this.height)*d)}Chart.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)}Chart.prototype.attachEvent=function(a){this._events.push(a)}Chart.prototype._touchEventHandler=function(a){if(!a.changedTouches||!this.interactivityEnabled)return;var b=[];var c=a.changedTouches;var d=c?c[0]:a;var f=null;switch(a.type){case"touchstart":case"MSPointerDown":b=["mousemove","mousedown"];this._lastTouchData=bp(d);this._lastTouchData.time=new Date();break;case"touchmove":case"MSPointerMove":b=["mousemove"];break;case"touchend":case"MSPointerUp":b=(this._lastTouchEventType==="touchstart"||this._lastTouchEventType==="MSPointerDown")?["mouseup","click"]:["mouseup"];break;default:return}if(c&&c.length>1)return;f=bp(d);f.time=new Date();try{var g=f.y-this._lastTouchData.y;var h=f.x-this._lastTouchData.x;var j=f.time-this._lastTouchData.time;if(Math.abs(g)>15&&(!!this._lastTouchData.scroll||j<200)){this._lastTouchData.scroll=true;var k=window.parent||window;if(k&&k.scrollBy)k.scrollBy(0,-g)}}catch(e){};this._lastTouchEventType=a.type;if(!!this._lastTouchData.scroll&&this.zoomEnabled){if(this.isDrag)this.resetOverlayedCanvas();this.isDrag=false;return}for(var i=0;i<b.length;i++){var l=b[i];var m=document.createEvent("MouseEvent");m.initMouseEvent(l,true,true,window,1,d.screenX,d.screenY,d.clientX,d.clientY,false,false,false,false,0,null);d.target.dispatchEvent(m);if(a.preventManipulation){a.preventManipulation()}if(a.preventDefault){a.preventDefault()}}}Chart.prototype._mouseEventHandler=function(a){if(!this.interactivityEnabled)return;if(a.preventManipulation){a.preventManipulation()}if(a.preventDefault){a.preventDefault()}if(typeof(a.target)==="undefined"&&a.srcElement)a.target=a.srcElement;var b=bp(a);var c=a.type;var d;var f;if(!a)var e=window.event;if(a.which)f=(a.which==3);else if(a.button)f=(a.button==2);if(be&&window.console){window.console.log(c+" --> x: "+b.x+"; y:"+b.y);if(f)window.console.log(a.which);if(c==="mouseup")window.console.log("mouseup")}if(f)return;if(Chart.capturedEventParam){d=Chart.capturedEventParam;if(c==="mouseup"){Chart.capturedEventParam=null;if(d.chart.overlaidCanvas.releaseCapture)d.chart.overlaidCanvas.releaseCapture();else document.body.removeEventListener("mouseup",d.chart._mouseEventHandler,false)}if(d.hasOwnProperty(c))d[c].call(d.context,b.x,b.y)}else if(this._events){for(var i=0;i<this._events.length;i++){if(!this._events[i].hasOwnProperty(c))continue;d=this._events[i];var g=d.bounds;if(b.x>=g.x1&&b.x<=g.x2&&b.y>=g.y1&&b.y<=g.y2){d[c].call(d.context,b.x,b.y);if(c==="mousedown"&&d.capture===true){Chart.capturedEventParam=d;if(this.overlaidCanvas.setCapture)this.overlaidCanvas.setCapture();else{document.body.addEventListener("mouseup",this._mouseEventHandler,false)}}else if(c==="mouseup"){if(d.chart.overlaidCanvas.releaseCapture)d.chart.overlaidCanvas.releaseCapture();else document.body.removeEventListener("mouseup",this._mouseEventHandler,false)}break}else d=null}if(d&&d.cursor){a.target.style.cursor=d.cursor}else a.target.style.cursor=this._defaultCursor}if(this._toolTip&&this._toolTip.enabled){var h=this.plotArea;if(b.x<h.x1||b.x>h.x2||b.y<h.y1||b.y>h.y2)this._toolTip.hide()}if((!this.isDrag||!this.zoomEnabled)&&this._eventManager){this._eventManager.mouseEventHandler(a)}}Chart.prototype._plotAreaMouseDown=function(x,y){this.isDrag=true;if(this.plotInfo.axisPlacement!=="none"){this.dragStartPoint={x:x,y:y,xMinimum:this.axisX.minimum,xMaximum:this.axisX.maximum}}else{this.dragStartPoint={x:x,y:y}}}Chart.prototype._plotAreaMouseUp=function(x,y){if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){if(this.isDrag){var a=0;var b=0;var c=this.axisX.lineCoordinates;if(this.plotInfo.axisPlacement==="xySwapped"){a=y-this.dragStartPoint.y;b=Math.abs(this.axisX.maximum-this.axisX.minimum)/c.height*a}else{a=this.dragStartPoint.x-x;b=Math.abs(this.axisX.maximum-this.axisX.minimum)/c.width*a}if(Math.abs(a)>2){if(this.panEnabled){var d=false;var e=0;if(this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum){e=this.axisX._absoluteMinimum-this.axisX.sessionVariables.internalMinimum;this.axisX.sessionVariables.internalMinimum+=e;this.axisX.sessionVariables.internalMaximum+=e;d=true}else if(this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum){e=this.axisX.sessionVariables.internalMaximum-this.axisX._absoluteMaximum;this.axisX.sessionVariables.internalMaximum-=e;this.axisX.sessionVariables.internalMinimum-=e;d=true}if(d)this.render()}else if(this.zoomEnabled){this.resetOverlayedCanvas();if(!this.dragStartPoint)return;if(this.plotInfo.axisPlacement==="xySwapped"){var f={y1:Math.min(this.dragStartPoint.y,y),y2:Math.max(this.dragStartPoint.y,y)};if(Math.abs(f.y1-f.y2)>1){var c=this.axisX.lineCoordinates;var g=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/c.height*(f.y2-c.y1);var h=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/c.height*(f.y1-c.y1);g=Math.max(g,this.axisX.dataInfo.min);h=Math.min(h,this.axisX.dataInfo.max);if(Math.abs((h-g)/this.axisX.dataInfo.minDiff)>=4/500*this.height){this.axisX.sessionVariables.internalMinimum=g;this.axisX.sessionVariables.internalMaximum=h;this.render()}}}else if(this.plotInfo.axisPlacement==="normal"){var f={x1:Math.min(this.dragStartPoint.x,x),x2:Math.max(this.dragStartPoint.x,x)};if(Math.abs(f.x1-f.x2)>1){var c=this.axisX.lineCoordinates;var g=(this.axisX.maximum-this.axisX.minimum)/c.width*(f.x1-c.x1)+this.axisX.minimum;var h=(this.axisX.maximum-this.axisX.minimum)/c.width*(f.x2-c.x1)+this.axisX.minimum;g=Math.max(g,this.axisX.dataInfo.min);h=Math.min(h,this.axisX.dataInfo.max);if(Math.abs((h-g)/this.axisX.dataInfo.minDiff)>=5/500*this.width){this.axisX.sessionVariables.internalMinimum=g;this.axisX.sessionVariables.internalMaximum=h;this.render()}}}}if(this.zoomEnabled&&this._toolBar.style.display==="none"){this._toolBar.style.display="inline";this._zoomButton.innerHTML=this._cultureInfo.panText;this._resetButton.innerHTML=this._cultureInfo.resetText}}}}this.isDrag=false}Chart.prototype._plotAreaMouseMove=function(x,y){if(this.isDrag&&this.plotInfo.axisPlacement!=="none"){var a=0;var b=0;var c=this.axisX.lineCoordinates;if(this.plotInfo.axisPlacement==="xySwapped"){a=y-this.dragStartPoint.y;b=Math.abs(this.axisX.maximum-this.axisX.minimum)/c.height*a}else{a=this.dragStartPoint.x-x;b=Math.abs(this.axisX.maximum-this.axisX.minimum)/c.width*a}if(Math.abs(a)>2&&Math.abs(a)<8&&(this.panEnabled||this.zoomEnabled)){this._toolTip.hide()}else if(this._toolTip.enabled&&!this.panEnabled&&!this.zoomEnabled){this._toolTip.mouseMoveHandler(x,y)}if(Math.abs(a)>2&&(this.panEnabled||this.zoomEnabled)){if(this.panEnabled){this.axisX.sessionVariables.internalMinimum=this.dragStartPoint.xMinimum+b;this.axisX.sessionVariables.internalMaximum=this.dragStartPoint.xMaximum+b;var d=0;if(this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum-convertToNumber(this.axisX.interval,this.axisX.intervalType)){d=(this.axisX._absoluteMinimum-convertToNumber(this.axisX.interval,this.axisX.intervalType))-this.axisX.sessionVariables.internalMinimum;this.axisX.sessionVariables.internalMinimum+=d;this.axisX.sessionVariables.internalMaximum+=d}else if(this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum+convertToNumber(this.axisX.interval,this.axisX.intervalType)){d=this.axisX.sessionVariables.internalMaximum-(this.axisX._absoluteMaximum+convertToNumber(this.axisX.interval,this.axisX.intervalType));this.axisX.sessionVariables.internalMaximum-=d;this.axisX.sessionVariables.internalMinimum-=d}var e=this;clearTimeout(this._panTimerId);this._panTimerId=setTimeout(function(){e.render()},0)}else if(this.zoomEnabled){var f=this.plotArea;this.resetOverlayedCanvas();var g=this.overlaidCanvasCtx.globalAlpha;this.overlaidCanvasCtx.globalAlpha=.7;this.overlaidCanvasCtx.fillStyle="#A0ABB8";if(this.plotInfo.axisPlacement==="xySwapped"){this.overlaidCanvasCtx.fillRect(f.x1,this.dragStartPoint.y,f.x2-f.x1,y-this.dragStartPoint.y)}else if(this.plotInfo.axisPlacement==="normal"){this.overlaidCanvasCtx.fillRect(this.dragStartPoint.x,f.y1,x-this.dragStartPoint.x,f.y2-f.y1)}this.overlaidCanvasCtx.globalAlpha=g}}}else if(this._toolTip.enabled)this._toolTip.mouseMoveHandler(x,y)}Chart.prototype.preparePlotArea=function(){var a=this.plotArea;var b=this.axisY?this.axisY:this.axisY2;if(!bf&&(a.x1>0||a.y1>0)){a.ctx.translate(a.x1,a.y1)}if(this.axisX&&b){a.x1=this.axisX.lineCoordinates.x1<this.axisX.lineCoordinates.x2?this.axisX.lineCoordinates.x1:b.lineCoordinates.x1;a.y1=(this.axisX.lineCoordinates.y1<b.lineCoordinates.y1?this.axisX.lineCoordinates.y1:b.lineCoordinates.y1);a.x2=(this.axisX.lineCoordinates.x2>b.lineCoordinates.x2?this.axisX.lineCoordinates.x2:b.lineCoordinates.x2);a.y2=this.axisX.lineCoordinates.y2>this.axisX.lineCoordinates.y1?this.axisX.lineCoordinates.y2:b.lineCoordinates.y2;a.width=a.x2-a.x1;a.height=a.y2-a.y1}else{var c=this.layoutManager.getFreeSpace();a.x1=c.x1;a.x2=c.x2;a.y1=c.y1;a.y2=c.y2;a.width=c.width;a.height=c.height}if(!bf){a.canvas.width=a.width;a.canvas.height=a.height;a.canvas.style.left=a.x1+"px";a.canvas.style.top=a.y1+"px";if(a.x1>0||a.y1>0){a.ctx.translate(-a.x1,-a.y1)}}}Chart.prototype.getPixelCoordinatesOnPlotArea=function(x,y){return{x:this.axisX.getPixelCoordinatesOnAxis(x).x,y:this.axisY.getPixelCoordinatesOnAxis(y).y}}Chart.prototype.renderIndexLabels=function(){var a=this.plotArea.ctx;a.textBaseline="middle";var b=this.plotArea;for(var i=0;i<this._indexLabels.length;i++){var c=this._indexLabels[i];var x,y,h;a.fillStyle=getProperty("indexLabelFontColor",c.dataPoint,c.dataSeries);a.font=getFontString("indexLabel",c.dataPoint,c.dataSeries);var d=this.replaceKeywordsWithValue(getProperty("indexLabel",c.dataPoint,c.dataSeries),c.dataPoint,c.dataSeries);var e={width:a.measureText(d).width,height:getProperty("indexLabelFontSize",c.dataPoint,c.dataSeries)};var f=getProperty("indexLabelPlacement",c.dataPoint,c.dataSeries);var g=getProperty("indexLabelOrientation",c.dataPoint,c.dataSeries);var h=0;var j=0;var k=0;var l=0;var m=0;if(c.point.x<b.x1||c.point.x>b.x2||c.point.y<b.y1||c.point.y>b.y2)continue;if(c.chartType==="column"||c.chartType==="stackedColumn"||c.chartType==="stackedColumn100"||c.chartType==="bar"||c.chartType==="stackedBar"||c.chartType==="stackedBar100"){var n=Math.abs(c.bounds.x1,c.bounds.x2)var o=Math.abs(c.bounds.y1,c.bounds.y2)if(this.plotInfo.axisPlacement==="normal"){if(f==="outside"){j=b.y1;k=b.y2}else if(f==="inside"){j=c.bounds.y1;k=c.bounds.y2}if(g==="horizontal"){x=c.point.x-e.width/2;if(c.dataPoint.y>=0)y=Math.min((Math.max(c.point.y-e.height/2-5,j+e.height/2+5)),k-e.height/2-5);else y=Math.max((Math.min(c.point.y+e.height/2+5,k-e.height/2)),j+e.height/2+5)}else if(g==="vertical"){x=c.point.x;if(c.dataPoint.y>=0)y=Math.min(Math.max(c.point.y-5,j+e.width+5),k);else y=Math.max(Math.min(c.point.y+e.width+5,k-5),j);h=-90}}else if(this.plotInfo.axisPlacement==="xySwapped"){if(f==="outside"){l=b.x1;m=b.x2}else if(f==="inside"){l=c.bounds.x1;m=c.bounds.x2}if(g==="horizontal"){y=c.point.y;if(c.dataPoint.y>=0)x=Math.max((Math.min(c.point.x+5,m-e.width)),l);else x=Math.min((Math.max(c.point.x-e.width-5,l)),m)}else if(g==="vertical"){y=c.point.y+e.width/2;if(c.dataPoint.y>=0)x=Math.max(Math.min(c.point.x+e.height/2+5,m-e.height/2),l);else x=Math.min(Math.max(c.point.x-e.height/2-5,l+e.height/2),m+e.height/2);h=-90}}}else{if(g==="horizontal"){x=c.point.x-e.width/2;if(c.dataPoint.y>=0)y=Math.max(c.point.y-e.height/2-5,b.y1+e.height/2);else y=Math.min(c.point.y+e.height/2+5,b.y2-e.height/2)}else if(g==="vertical"){x=c.point.x;if(c.dataPoint.y>=0)y=Math.max(c.point.y-5,b.y1+e.width);else y=Math.min(c.point.y+e.width+5,b.y2);h=-90}}a.save();a.translate(x,y);a.rotate(Math.PI/180*h);a.fillText(d,0,0);a.restore()}}Chart.prototype.renderLine=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=this._eventManager.ghostCtx;b.save();var e=this.plotArea;b.beginPath();b.rect(e.x1,e.y1,e.width,e.height);b.clip();var f=[];for(var j=0;j<a.dataSeriesIndexes.length;j++){var g=a.dataSeriesIndexes[j];var h=this.data[g];b.lineWidth=h.lineThickness;var k=h.dataPoints;var l=h.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:g};var m=intToHexColorString(l);d.strokeStyle=m;d.lineWidth=h.lineThickness>0?Math.max(h.lineThickness,4):0;var n=h._colorSet;var o=n[0];b.strokeStyle=o;var p=true;var i=0,x,y;var q;b.beginPath();if(k.length>0){var r=false;for(i=0;i<k.length;i++){q=k[i].x.getTime?k[i].x.getTime():k[i].x;if(q<a.axisX.dataInfo.viewPortMin||q>a.axisX.dataInfo.viewPortMax)continue;if(typeof(k[i].y)!=="number"){if(i>0){b.stroke();if(bf){d.stroke()}}r=true;continue}x=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(q-a.axisX.conversionParameters.minimum)+.5)<<0;y=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(k[i].y-a.axisY.conversionParameters.minimum)+.5)<<0;var s=h.dataPointIds[i];this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:i,x1:x,y1:y};if(p||r){b.beginPath();b.moveTo(x,y);if(bf){d.beginPath();d.moveTo(x,y)}p=false;r=false}else{b.lineTo(x,y);if(bf)d.lineTo(x,y);if(i%500==0){b.stroke();b.beginPath();b.moveTo(x,y);if(bf){d.stroke();d.beginPath();d.moveTo(x,y)}}}if(k[i].markerSize>0||h.markerSize>0){var t=h.getMarkerProperties(i,x,y,b);f.push(t);if(!h.maxWidthInX||t.size>h.maxWidthInX){h.maxWidthInX=t.size/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit)}var u=intToHexColorString(s);if(bf){f.push({x:x,y:y,ctx:d,type:t.type,size:t.size,color:u,borderColor:u,borderThickness:t.borderThickness})}}if(k[i].indexLabel||h.indexLabel){this._indexLabels.push({chartType:"line",dataPoint:k[i],dataSeries:h,point:{x:x,y:y},color:o})}}b.stroke();if(bf)d.stroke()}}bA.drawMarkers(f);b.restore();b.beginPath();if(bf)d.beginPath()}Chart.prototype.renderStepLine=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=this._eventManager.ghostCtx;b.save();var e=this.plotArea;b.beginPath();b.rect(e.x1,e.y1,e.width,e.height);b.clip();var f=[];for(var j=0;j<a.dataSeriesIndexes.length;j++){var g=a.dataSeriesIndexes[j];var h=this.data[g];b.lineWidth=h.lineThickness;var k=h.dataPoints;var l=h.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:g};var m=intToHexColorString(l);d.strokeStyle=m;d.lineWidth=h.lineThickness>0?Math.max(h.lineThickness,4):0;var n=h._colorSet;var o=n[0];b.strokeStyle=o;var p=true;var i=0,x,y;var q;b.beginPath();if(k.length>0){var r=false;for(i=0;i<k.length;i++){q=k[i].getTime?k[i].x.getTime():k[i].x;if(q<a.axisX.dataInfo.viewPortMin||q>a.axisX.dataInfo.viewPortMax)continue;if(typeof(k[i].y)!=="number"){if(i>0){b.stroke();if(bf){d.stroke()}}r=true;continue}var s=y;x=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(q-a.axisX.conversionParameters.minimum)+.5)<<0;y=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(k[i].y-a.axisY.conversionParameters.minimum)+.5)<<0;var t=h.dataPointIds[i];this._eventManager.objectMap[t]={id:t,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:i,x1:x,y1:y};if(p||r){b.beginPath();b.moveTo(x,y);if(bf){d.beginPath();d.moveTo(x,y)}p=false;r=false}else{b.lineTo(x,s);if(bf)d.lineTo(x,s);b.lineTo(x,y);if(bf)d.lineTo(x,y);if(i%500==0){b.stroke();b.beginPath();b.moveTo(x,y);if(bf){d.stroke();d.beginPath();d.moveTo(x,y)}}}if(k[i].markerSize>0||h.markerSize>0){var u=h.getMarkerProperties(i,x,y,b);f.push(u);if(!h.maxWidthInX||u.size>h.maxWidthInX){h.maxWidthInX=u.size/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit)}var v=intToHexColorString(t);if(bf){f.push({x:x,y:y,ctx:d,type:u.type,size:u.size,color:v,borderColor:v,borderThickness:u.borderThickness})}}if(k[i].indexLabel||h.indexLabel){this._indexLabels.push({chartType:"stepLine",dataPoint:k[i],dataSeries:h,point:{x:x,y:y},color:o})}}b.stroke();if(bf)d.stroke()}}bA.drawMarkers(f);b.restore();b.beginPath();if(bf)d.beginPath()}function getBezierPoints(a,b){var c=[];for(var i=0;i<a.length;i++){if(i==0){c.push(a[0]);continue}var d,i2,pointIndex;pointIndex=i-1;d=pointIndex===0?0:pointIndex-1;i2=pointIndex===a.length-1?pointIndex:pointIndex+1;var e={x:(a[i2].x-a[d].x)/b,y:(a[i2].y-a[d].y)/b}var f={x:a[pointIndex].x+e.x/3,y:a[pointIndex].y+e.y/3}c[c.length]=f;pointIndex=i;d=pointIndex===0?0:pointIndex-1;i2=pointIndex===a.length-1?pointIndex:pointIndex+1;var g={x:(a[i2].x-a[d].x)/b,y:(a[i2].y-a[d].y)/b}var h={x:a[pointIndex].x-g.x/3,y:a[pointIndex].y-g.y/3}c[c.length]=h;c[c.length]=a[i]}return c}Chart.prototype.renderSpline=function(c){var d=this.plotArea.ctx;var e=c.dataSeriesIndexes.length;if(e<=0)return;var f=this._eventManager.ghostCtx;d.save();var g=this.plotArea;d.beginPath();d.rect(g.x1,g.y1,g.width,g.height);d.clip();var h=[];for(var j=0;j<c.dataSeriesIndexes.length;j++){var k=c.dataSeriesIndexes[j];var l=this.data[k];d.lineWidth=l.lineThickness;var m=l.dataPoints;var n=l.id;this._eventManager.objectMap[n]={objectType:"dataSeries",dataSeriesIndex:k};var o=intToHexColorString(n);f.strokeStyle=o;f.lineWidth=l.lineThickness>0?Math.max(l.lineThickness,4):0;var p=l._colorSet;var q=p[0];d.strokeStyle=q;var r=true;var i=0,x,y;var s;var t=[];d.beginPath();if(m.length>0){for(i=0;i<m.length;i++){s=m[i].getTime?m[i].x.getTime():m[i].x;if(s<c.axisX.dataInfo.viewPortMin||s>c.axisX.dataInfo.viewPortMax)continue;if(typeof(m[i].y)!=="number"){if(i>0){renderBezier(t);t=[]}continue}x=(c.axisX.conversionParameters.reference+c.axisX.conversionParameters.pixelPerUnit*(s-c.axisX.conversionParameters.minimum)+.5)<<0;y=(c.axisY.conversionParameters.reference+c.axisY.conversionParameters.pixelPerUnit*(m[i].y-c.axisY.conversionParameters.minimum)+.5)<<0;var u=l.dataPointIds[i];this._eventManager.objectMap[u]={id:u,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:i,x1:x,y1:y};t[t.length]={x:x,y:y};if(m[i].markerSize>0||l.markerSize>0){var v=l.getMarkerProperties(i,x,y,d);h.push(v);if(!l.maxWidthInX||v.size>l.maxWidthInX){l.maxWidthInX=v.size/(c.axisX.conversionParameters.pixelPerUnit>1?c.axisX.conversionParameters.pixelPerUnit-1:c.axisX.conversionParameters.pixelPerUnit)}var w=intToHexColorString(u);if(bf){h.push({x:x,y:y,ctx:f,type:v.type,size:v.size,color:w,borderColor:w,borderThickness:v.borderThickness})}}if(m[i].indexLabel||l.indexLabel){this._indexLabels.push({chartType:"spline",dataPoint:m[i],dataSeries:l,point:{x:x,y:y},color:q})}}}renderBezier(t)}bA.drawMarkers(h);d.restore();d.beginPath();if(bf)f.beginPath();function renderBezier(a){var b=getBezierPoints(a,2);if(b.length>0){d.beginPath();if(bf)f.beginPath();d.moveTo(b[0].x,b[0].y);if(bf)f.moveTo(b[0].x,b[0].y);for(var i=0;i<b.length-3;i+=3){d.bezierCurveTo(b[i+1].x,b[i+1].y,b[i+2].x,b[i+2].y,b[i+3].x,b[i+3].y);if(bf)f.bezierCurveTo(b[i+1].x,b[i+1].y,b[i+2].x,b[i+2].y,b[i+3].x,b[i+3].y);if(i>0&&i%3000===0){d.stroke();d.beginPath();d.moveTo(b[i+3].x,b[i+3].y);if(bf){f.stroke();f.beginPath();f.moveTo(b[i+3].x,b[i+3].y)}}}d.stroke();if(bf)f.stroke()}}}var bu=function(a,b,c,d,e,f,g,h,i,j){var k=b,a2=d,b1=c,b2=e,edgeY,edgeX;if(d-b>15&&e-c>15)var l=8;else var l=0.35*Math.min((d-b),(e-c));var m="rgba(255, 255, 255, .4)";var n="rgba(255, 255, 255, 0.1)";var o=f;a.beginPath();a.moveTo(b,c);a.save();a.fillStyle=o;a.fillRect(b,c,d-b,e-c)a.restore();if(g===true){a.save();a.beginPath();a.moveTo(b,c);a.lineTo(b+l,c+l);a.lineTo(d-l,c+l);a.lineTo(d,c);a.closePath();var p=a.createLinearGradient((d+b)/2,b1+l,(d+b)/2,b1);p.addColorStop(0,o);p.addColorStop(1,m);a.fillStyle=p;a.fill();a.restore()}if(h===true){a.save();a.beginPath();a.moveTo(b,e);a.lineTo(b+l,e-l);a.lineTo(d-l,e-l);a.lineTo(d,e);a.closePath();var p=a.createLinearGradient((d+b)/2,b2-l,(d+b)/2,b2);p.addColorStop(0,o);p.addColorStop(1,m);a.fillStyle=p;a.fill();a.restore()}if(i===true){a.save();a.beginPath();a.moveTo(b,c)a.lineTo(b+l,c+l);a.lineTo(b+l,e-l);a.lineTo(b,e);a.closePath();var p=a.createLinearGradient(k+l,(e+c)/2,k,(e+c)/2);p.addColorStop(0,o);p.addColorStop(1,n);a.fillStyle=p;a.fill();a.restore()}if(j===true){a.save();a.beginPath();a.moveTo(d,c)a.lineTo(d-l,c+l);a.lineTo(d-l,e-l);a.lineTo(d,e);var p=a.createLinearGradient(a2-l,(e+c)/2,a2,(e+c)/2);p.addColorStop(0,o);p.addColorStop(1,n);a.fillStyle=p;p.addColorStop(0,o);p.addColorStop(1,n);a.fillStyle=p;a.fill();a.closePath();a.restore()}}Chart.prototype.renderColumn=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=null;var e=this.plotArea;var i=0,x,y;var f;var g=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum))<<0;var h=Math.min((this.width*.15),this.plotArea.width/a.plotType.totalDataSeries*.9)<<0;var k=a.axisX.dataInfo.minDiff;var l=(((e.width/Math.abs(a.axisX.maximum-a.axisX.minimum))*Math.abs(k))/a.plotType.totalDataSeries*.9)<<0;if(l>h)l=h;else if(k===Infinity){l=h}else if(l<1)l=1;b.save();if(bf)this._eventManager.ghostCtx.save();b.beginPath();b.rect(e.x1,e.y1,e.width,e.height);b.clip();if(bf){this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height);this._eventManager.ghostCtx.clip()}for(var j=0;j<a.dataSeriesIndexes.length;j++){var m=a.dataSeriesIndexes[j];var n=this.data[m];var o=n.dataPoints;var p=true;n.maxWidthInX=l/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(o.length>0){var q=(l>5)&&n.bevelEnabled?true:false;for(i=0;i<o.length;i++){o[i].getTime?f=o[i].x.getTime():f=o[i].x;if(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax){continue}if(typeof(o[i].y)!=="number")continue;x=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(f-a.axisX.conversionParameters.minimum)+.5)<<0;y=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(o[i].y-a.axisY.conversionParameters.minimum)+.5)<<0;var r=x-(a.plotType.totalDataSeries*l/2)+((a.previousDataSeriesCount+j)*l)<<0;var s=r+l<<0;var t;var u;if(o[i].y>=0){t=y;u=g;if(t>u){var v=t;t=u;u=t}}else{u=y;t=g;if(t>u){var v=t;t=u;u=t}}d=o[i].color?o[i].color:n._colorSet[i%n._colorSet.length];bu(b,r,t,s,u,d,q&&(o[i].y>=0),(o[i].y<0)&&q,false,false);var w=n.dataPointIds[i];this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:i,x1:r,y1:t,x2:s,y2:u};d=intToHexColorString(w);if(bf)bu(this._eventManager.ghostCtx,r,t,s,u,d,false,false,false,false);if(o[i].indexLabel||n.indexLabel){this._indexLabels.push({chartType:"column",dataPoint:o[i],dataSeries:n,point:{x:r+(s-r)/2,y:o[i].y>=0?t:u},bounds:{x1:r,y1:Math.min(t,u),x2:s,y2:Math.max(t,u)},color:d})}}}}b.restore();if(bf)this._eventManager.ghostCtx.restore()}Chart.prototype.renderStackedColumn=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=null;var e=this.plotArea;var f=[];var g=[];var i=0,x,y;var h;var k=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum))<<0;var l=this.width*.15<<0;var m=a.axisX.dataInfo.minDiff;var n=(((e.width/Math.abs(a.axisX.maximum-a.axisX.minimum))*Math.abs(m))/a.plotType.plotUnits.length*.9)<<0;if(n>l)n=l;else if(m===Infinity){n=l}else if(n<1)n=1;b.save();if(bf)this._eventManager.ghostCtx.save();b.beginPath();b.rect(e.x1,e.y1,e.width,e.height);b.clip();if(bf){this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height);this._eventManager.ghostCtx.clip()}for(var j=0;j<a.dataSeriesIndexes.length;j++){var o=a.dataSeriesIndexes[j];var p=this.data[o];var q=p.dataPoints;var r=true;p.maxWidthInX=n/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(q.length>0){var s=(n>5)&&p.bevelEnabled?true:false;b.strokeStyle="#4572A7 ";for(i=0;i<q.length;i++){h=q[i].x.getTime?q[i].x.getTime():q[i].x;if(h<a.axisX.dataInfo.viewPortMin||h>a.axisX.dataInfo.viewPortMax){continue}if(typeof(q[i].y)!=="number")continue;x=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(h-a.axisX.conversionParameters.minimum)+.5)<<0;y=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(q[i].y-a.axisY.conversionParameters.minimum)+.5)<<0;var t=x-(a.plotType.plotUnits.length*n/2)+(a.index*n)<<0;var u=t+n<<0;var v;var w;if(q[i].y>=0){var z=f[h]?f[h]:0;v=y-z;w=k-z;f[h]=z+(w-v)}else{var z=g[h]?g[h]:0;w=y+z;v=k+z;g[h]=z+(w-v)}d=q[i].color?q[i].color:p._colorSet[i%p._colorSet.length];bu(b,t,v,u,w,d,s&&(q[i].y>=0),(q[i].y<0)&&s,false,false);var A=p.dataPointIds[i];this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:i,x1:t,y1:v,x2:u,y2:w};d=intToHexColorString(A);if(bf)bu(this._eventManager.ghostCtx,t,v,u,w,d,false,false,false,false);if(q[i].indexLabel||p.indexLabel){this._indexLabels.push({chartType:"stackedColumn",dataPoint:q[i],dataSeries:p,point:{x:x,y:q[i].y>=0?v:w},bounds:{x1:t,y1:Math.min(v,w),x2:u,y2:Math.max(v,w)},color:d})}}}}b.restore();if(bf)this._eventManager.ghostCtx.restore()}Chart.prototype.renderStackedColumn100=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=null;var e=this.plotArea;var f=[];var g=[];var i=0,x,y;var h;var k=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum))<<0;var l=this.width*.15<<0;var m=a.axisX.dataInfo.minDiff;var n=(((e.width/Math.abs(a.axisX.maximum-a.axisX.minimum))*Math.abs(m))/a.plotType.plotUnits.length*.9)<<0;if(n>l)n=l;else if(m===Infinity){n=l}else if(n<1)n=1;b.save();if(bf)this._eventManager.ghostCtx.save();b.beginPath();b.rect(e.x1,e.y1,e.width,e.height);b.clip();if(bf){this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height);this._eventManager.ghostCtx.clip()}for(var j=0;j<a.dataSeriesIndexes.length;j++){var o=a.dataSeriesIndexes[j];var p=this.data[o];var q=p.dataPoints;var r=true;p.maxWidthInX=n/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(q.length>0){var s=(n>5)&&p.bevelEnabled?true:false;for(i=0;i<q.length;i++){h=q[i].x.getTime?q[i].x.getTime():q[i].x;if(h<a.axisX.dataInfo.viewPortMin||h>a.axisX.dataInfo.viewPortMax){continue}if(typeof(q[i].y)!=="number")continue;x=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(h-a.axisX.conversionParameters.minimum)+.5)<<0;var t;if(a.dataPointYSums[h]!==0)t=q[i].y/a.dataPointYSums[h]*100;else t=0;y=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(t-a.axisY.conversionParameters.minimum)+.5)<<0;var u=x-(a.plotType.plotUnits.length*n/2)+(a.index*n)<<0;var v=u+n<<0;var w;var z;if(q[i].y>=0){var A=f[h]?f[h]:0;w=y-A;z=k-A;f[h]=A+(z-w)}else{var A=g[h]?g[h]:0;z=y+A;w=k+A;g[h]=A+(z-w)}d=q[i].color?q[i].color:p._colorSet[i%p._colorSet.length];bu(b,u,w,v,z,d,s&&(q[i].y>=0),(q[i].y<0)&&s,false,false);var B=p.dataPointIds[i];this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:i,x1:u,y1:w,x2:v,y2:z};d=intToHexColorString(B);if(bf)bu(this._eventManager.ghostCtx,u,w,v,z,d,false,false,false,false);if(q[i].indexLabel||p.indexLabel){this._indexLabels.push({chartType:"stackedColumn100",dataPoint:q[i],dataSeries:p,point:{x:x,y:q[i].y>=0?w:z},bounds:{x1:u,y1:Math.min(w,z),x2:v,y2:Math.max(w,z)},color:d})}}}}b.restore();if(bf)this._eventManager.ghostCtx.restore()}Chart.prototype.renderBar=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=null;var e=this.plotArea;var i=0,x,y;var f;var g=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum))<<0;var h=Math.min((this.height*.15),this.plotArea.height/a.plotType.totalDataSeries*.9)<<0;var k=a.axisX.dataInfo.minDiff;var l=(((e.height/Math.abs(a.axisX.maximum-a.axisX.minimum))*Math.abs(k))/a.plotType.totalDataSeries*.9)<<0;if(l>h)l=h;else if(k===Infinity){l=h}else if(l<1)l=1;b.save();if(bf)this._eventManager.ghostCtx.save();b.beginPath();b.rect(e.x1,e.y1,e.width,e.height);b.clip();if(bf){this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height);this._eventManager.ghostCtx.clip()}for(var j=0;j<a.dataSeriesIndexes.length;j++){var m=a.dataSeriesIndexes[j];var n=this.data[m];var o=n.dataPoints;var p=true;n.maxWidthInX=l/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(o.length>0){var q=(l>5)&&n.bevelEnabled?true:false;b.strokeStyle="#4572A7 ";for(i=0;i<o.length;i++){o[i].getTime?f=o[i].x.getTime():f=o[i].x;if(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax){continue}if(typeof(o[i].y)!=="number")continue;y=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(f-a.axisX.conversionParameters.minimum)+.5)<<0;x=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(o[i].y-a.axisY.conversionParameters.minimum)+.5)<<0;var r=(y-(a.plotType.totalDataSeries*l/2)+((a.previousDataSeriesCount+j)*l))<<0;var s=r+l<<0;var t;var u;if(o[i].y>=0){t=g;u=x}else{t=x;u=g}d=o[i].color?o[i].color:n._colorSet[i%n._colorSet.length];bu(b,t,r,u,s,d,q,false,false,false);var v=n.dataPointIds[i];this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:i,x1:t,y1:r,x2:u,y2:s};d=intToHexColorString(v);if(bf)bu(this._eventManager.ghostCtx,t,r,u,s,d,false,false,false,false);this._indexLabels.push({chartType:"bar",dataPoint:o[i],dataSeries:n,point:{x:o[i].y>=0?u:t,y:r+(s-r)/2},bounds:{x1:Math.min(t,u),y1:r,x2:Math.max(t,u),y2:s},color:d})}}}b.restore();if(bf)this._eventManager.ghostCtx.restore()}Chart.prototype.renderStackedBar=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=null;var e=this.plotArea;var f=[];var g=[];var i=0,x,y;var h;var k=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum))<<0;var l=this.width*.15<<0;var m=a.axisX.dataInfo.minDiff;var n=(((e.height/Math.abs(a.axisX.maximum-a.axisX.minimum))*Math.abs(m))/a.plotType.plotUnits.length*.9)<<0;if(n>l)n=l;else if(m===Infinity){n=l}else if(n<1)n=1;b.save();if(bf)this._eventManager.ghostCtx.save();b.beginPath();b.rect(e.x1,e.y1,e.width,e.height);b.clip();if(bf){this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height);this._eventManager.ghostCtx.clip()}for(var j=0;j<a.dataSeriesIndexes.length;j++){var o=a.dataSeriesIndexes[j];var p=this.data[o];var q=p.dataPoints;var r=true;p.maxWidthInX=n/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(q.length>0){var s=(n>5)&&p.bevelEnabled?true:false;b.strokeStyle="#4572A7 ";for(i=0;i<q.length;i++){h=q[i].x.getTime?q[i].x.getTime():q[i].x;if(h<a.axisX.dataInfo.viewPortMin||h>a.axisX.dataInfo.viewPortMax){continue}if(typeof(q[i].y)!=="number")continue;y=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(h-a.axisX.conversionParameters.minimum)+.5)<<0;x=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(q[i].y-a.axisY.conversionParameters.minimum)+.5)<<0;var t=y-(a.plotType.plotUnits.length*n/2)+(a.index*n)<<0;var u=t+n<<0;var v;var w;if(q[i].y>=0){var z=f[h]?f[h]:0;v=k+z;w=x+z;f[h]=z+(w-v)}else{var z=g[h]?g[h]:0;v=x-z;w=k-z;g[h]=z+(w-v)}d=q[i].color?q[i].color:p._colorSet[i%p._colorSet.length];bu(b,v,t,w,u,d,s,false,false,false);var A=p.dataPointIds[i];this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:i,x1:v,y1:t,x2:w,y2:u};d=intToHexColorString(A);if(bf)bu(this._eventManager.ghostCtx,v,t,w,u,d,false,false,false,false);this._indexLabels.push({chartType:"stackedBar",dataPoint:q[i],dataSeries:p,point:{x:q[i].y>=0?w:v,y:y},bounds:{x1:Math.min(v,w),y1:t,x2:Math.max(v,w),y2:u},color:d})}}}b.restore();if(bf)this._eventManager.ghostCtx.restore()}Chart.prototype.renderStackedBar100=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=null;var e=this.plotArea;var f=[];var g=[];var i=0,x,y;var h;var k=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum))<<0;var l=this.width*.15<<0;var m=a.axisX.dataInfo.minDiff;var n=(((e.height/Math.abs(a.axisX.maximum-a.axisX.minimum))*Math.abs(m))/a.plotType.plotUnits.length*.9)<<0;if(n>l)n=l;else if(m===Infinity){n=l}else if(n<1)n=1;b.save();if(bf)this._eventManager.ghostCtx.save();b.beginPath();b.rect(e.x1,e.y1,e.width,e.height);b.clip();if(bf){this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height);this._eventManager.ghostCtx.clip()}for(var j=0;j<a.dataSeriesIndexes.length;j++){var o=a.dataSeriesIndexes[j];var p=this.data[o];var q=p.dataPoints;var r=true;p.maxWidthInX=n/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(q.length>0){var s=(n>5)&&p.bevelEnabled?true:false;b.strokeStyle="#4572A7 ";for(i=0;i<q.length;i++){h=q[i].x.getTime?q[i].x.getTime():q[i].x;if(h<a.axisX.dataInfo.viewPortMin||h>a.axisX.dataInfo.viewPortMax){continue}if(typeof(q[i].y)!=="number")continue;y=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(h-a.axisX.conversionParameters.minimum)+.5)<<0;var t;if(a.dataPointYSums[h]!==0)t=q[i].y/a.dataPointYSums[h]*100;else t=0;x=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(t-a.axisY.conversionParameters.minimum)+.5)<<0;var u=y-(a.plotType.plotUnits.length*n/2)+(a.index*n)<<0;var v=u+n<<0;var w;var z;if(q[i].y>=0){var A=f[h]?f[h]:0;w=k+A;z=x+A;f[h]=A+(z-w)}else{var A=g[h]?g[h]:0;w=x-A;z=k-A;g[h]=A+(z-w)}d=q[i].color?q[i].color:p._colorSet[i%p._colorSet.length];bu(b,w,u,z,v,d,s,false,false,false);var B=p.dataPointIds[i];this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:i,x1:w,y1:u,x2:z,y2:v};d=intToHexColorString(B);if(bf)bu(this._eventManager.ghostCtx,w,u,z,v,d,false,false,false,false);this._indexLabels.push({chartType:"stackedBar100",dataPoint:q[i],dataSeries:p,point:{x:q[i].y>=0?z:w,y:y},bounds:{x1:Math.min(w,z),y1:u,x2:Math.max(w,z),y2:v},color:d})}}}b.restore();if(bf)this._eventManager.ghostCtx.restore()}Chart.prototype.renderArea=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=this._eventManager.ghostCtx;var e=a.axisX.lineCoordinates;var f=a.axisY.lineCoordinates;var g=[];var h=this.plotArea;b.save();if(bf)d.save();b.beginPath();b.rect(h.x1,h.y1,h.width,h.height);b.clip();if(bf){d.beginPath();d.rect(h.x1,h.y1,h.width,h.height);d.clip()}for(var j=0;j<a.dataSeriesIndexes.length;j++){var k=a.dataSeriesIndexes[j];var l=this.data[k];var m=l.dataPoints;var n=l.id;this._eventManager.objectMap[n]={objectType:"dataSeries",dataSeriesIndex:k};var o=intToHexColorString(n);d.fillStyle=o;g=[];var p=true;var i=0,x,y;var q;var r=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)+.5)<<0;var s;var t=null;if(m.length>0){var u=l._colorSet[i%l._colorSet.length];b.fillStyle=u;var v=true;for(;i<m.length;i++){q=m[i].x.getTime?m[i].x.getTime():m[i].x;if(q<a.axisX.dataInfo.viewPortMin||q>a.axisX.dataInfo.viewPortMax){continue}if(typeof(m[i].y)!=="number"){closeArea();v=true;continue}x=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(q-a.axisX.conversionParameters.minimum)+.5)<<0;y=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(m[i].y-a.axisY.conversionParameters.minimum)+.5)<<0;if(p||v){b.beginPath();b.moveTo(x,y);t={x:x,y:y};if(bf){d.beginPath();d.moveTo(x,y)}p=false;v=false}else{b.lineTo(x,y);if(bf)d.lineTo(x,y);if(i%250==0){closeArea()}}var w=l.dataPointIds[i];this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:i,x1:x,y1:y};if(m[i].markerSize!==0){if(m[i].markerSize>0||l.markerSize>0){var z=l.getMarkerProperties(i,x,y,b);g.push(z);if(!l.maxWidthInX||z.size>l.maxWidthInX){l.maxWidthInX=z.size/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit)}var A=intToHexColorString(w);if(bf){g.push({x:x,y:y,ctx:d,type:z.type,size:z.size,color:A,borderColor:A,borderThickness:z.borderThickness})}}}if(m[i].indexLabel||l.indexLabel){this._indexLabels.push({chartType:"area",dataPoint:m[i],dataSeries:l,point:{x:x,y:y},color:u})}}closeArea();bA.drawMarkers(g)}}b.restore();if(bf)this._eventManager.ghostCtx.restore();function closeArea(){if(!t)return;if(a.axisY.minimum<=0&&a.axisY.maximum>=0){s=r}else if(a.axisY.maximum<0)s=f.y1;else if(a.axisY.minimum>0)s=e.y2;b.lineTo(x,s);b.lineTo(t.x,s);b.closePath();b.fill();if(bf){d.lineTo(x,s);d.lineTo(t.x,s);d.closePath();d.fill()}b.beginPath();b.moveTo(x,y);d.beginPath();d.moveTo(x,y);t={x:x,y:y}}}Chart.prototype.renderSplineArea=function(b){var c=this.plotArea.ctx;var d=b.dataSeriesIndexes.length;if(d<=0)return;var e=this._eventManager.ghostCtx;var f=b.axisX.lineCoordinates;var g=b.axisY.lineCoordinates;var h=[];var k=this.plotArea;c.save();if(bf)e.save();c.beginPath();c.rect(k.x1,k.y1,k.width,k.height);c.clip();if(bf){e.beginPath();e.rect(k.x1,k.y1,k.width,k.height);e.clip()}for(var j=0;j<b.dataSeriesIndexes.length;j++){var l=b.dataSeriesIndexes[j];var m=this.data[l];var n=m.dataPoints;var o=m.id;this._eventManager.objectMap[o]={objectType:"dataSeries",dataSeriesIndex:l};var p=intToHexColorString(o);e.fillStyle=p;h=[];var q=true;var i=0,x,y;var r;var s=(b.axisY.conversionParameters.reference+b.axisY.conversionParameters.pixelPerUnit*(0-b.axisY.conversionParameters.minimum)+.5)<<0;var t;var u=null;var v=[];if(n.length>0){color=m._colorSet[i%m._colorSet.length];c.fillStyle=color;for(;i<n.length;i++){r=n[i].x.getTime?n[i].x.getTime():n[i].x;if(r<b.axisX.dataInfo.viewPortMin||r>b.axisX.dataInfo.viewPortMax){continue}if(typeof(n[i].y)!=="number"){if(i>0){renderBezierArea();v=[]}continue}x=(b.axisX.conversionParameters.reference+b.axisX.conversionParameters.pixelPerUnit*(r-b.axisX.conversionParameters.minimum)+.5)<<0;y=(b.axisY.conversionParameters.reference+b.axisY.conversionParameters.pixelPerUnit*(n[i].y-b.axisY.conversionParameters.minimum)+.5)<<0;var w=m.dataPointIds[i];this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:i,x1:x,y1:y};v[v.length]={x:x,y:y};if(n[i].markerSize!==0){if(n[i].markerSize>0||m.markerSize>0){var z=m.getMarkerProperties(i,x,y,c);h.push(z);if(!m.maxWidthInX||z.size>m.maxWidthInX){m.maxWidthInX=z.size/(b.axisX.conversionParameters.pixelPerUnit>1?b.axisX.conversionParameters.pixelPerUnit-1:b.axisX.conversionParameters.pixelPerUnit)}var A=intToHexColorString(w);if(bf){h.push({x:x,y:y,ctx:e,type:z.type,size:z.size,color:A,borderColor:A,borderThickness:z.borderThickness})}}}if(n[i].indexLabel||m.indexLabel){this._indexLabels.push({chartType:"splineArea",dataPoint:n[i],dataSeries:m,point:{x:x,y:y},color:color})}}renderBezierArea();bA.drawMarkers(h)}}c.restore();if(bf)this._eventManager.ghostCtx.restore();function renderBezierArea(){var a=getBezierPoints(v,2);if(a.length>0){c.beginPath();c.moveTo(a[0].x,a[0].y);if(bf){e.beginPath();e.moveTo(a[0].x,a[0].y)}for(var i=0;i<a.length-3;i+=3){c.bezierCurveTo(a[i+1].x,a[i+1].y,a[i+2].x,a[i+2].y,a[i+3].x,a[i+3].y);if(bf)e.bezierCurveTo(a[i+1].x,a[i+1].y,a[i+2].x,a[i+2].y,a[i+3].x,a[i+3].y)}if(b.axisY.minimum<=0&&b.axisY.maximum>=0){t=s}else if(b.axisY.maximum<0)t=g.y1;else if(b.axisY.minimum>0)t=f.y2;u={x:a[0].x,y:a[0].y};c.lineTo(a[a.length-1].x,t);c.lineTo(u.x,t);c.closePath();c.fill();if(bf){e.lineTo(a[a.length-1].x,t);e.lineTo(u.x,t);e.closePath();e.fill()}}}}Chart.prototype.renderStepArea=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=this._eventManager.ghostCtx;var e=a.axisX.lineCoordinates;var f=a.axisY.lineCoordinates;var g=[];var h=this.plotArea;b.save();if(bf)d.save();b.beginPath();b.rect(h.x1,h.y1,h.width,h.height);b.clip();if(bf){d.beginPath();d.rect(h.x1,h.y1,h.width,h.height);d.clip()}for(var j=0;j<a.dataSeriesIndexes.length;j++){var k=a.dataSeriesIndexes[j];var l=this.data[k];var m=l.dataPoints;var n=l.id;this._eventManager.objectMap[n]={objectType:"dataSeries",dataSeriesIndex:k};var o=intToHexColorString(n);d.fillStyle=o;g=[];var p=true;var i=0,x,y;var q;var r=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)+.5)<<0;var s;var t=null;var u=false;if(m.length>0){var v=l._colorSet[i%l._colorSet.length];b.fillStyle=v;for(;i<m.length;i++){q=m[i].x.getTime?m[i].x.getTime():m[i].x;if(q<a.axisX.dataInfo.viewPortMin||q>a.axisX.dataInfo.viewPortMax){continue}var w=y;if(typeof(m[i].y)!=="number"){closeArea();u=true;continue}x=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(q-a.axisX.conversionParameters.minimum)+.5)<<0;y=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(m[i].y-a.axisY.conversionParameters.minimum)+.5)<<0;if(p||u){b.beginPath();b.moveTo(x,y);t={x:x,y:y};if(bf){d.beginPath();d.moveTo(x,y)}p=false;u=false}else{b.lineTo(x,w);if(bf)d.lineTo(x,w);b.lineTo(x,y);if(bf)d.lineTo(x,y);if(i%250==0){if(a.axisY.minimum<=0&&a.axisY.maximum>=0){s=r}else if(a.axisY.maximum<0)s=f.y1;else if(a.axisY.minimum>0)s=e.y2;b.lineTo(x,s);b.lineTo(t.x,s);b.closePath();b.fill();b.beginPath();b.moveTo(x,y);if(bf){d.lineTo(x,s);d.lineTo(t.x,s);d.closePath();d.fill();d.beginPath();d.moveTo(x,y)}t={x:x,y:y}}}var z=l.dataPointIds[i];this._eventManager.objectMap[z]={id:z,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:i,x1:x,y1:y};if(m[i].markerSize!==0){if(m[i].markerSize>0||l.markerSize>0){var A=l.getMarkerProperties(i,x,y,b);g.push(A);if(!l.maxWidthInX||A.size>l.maxWidthInX){l.maxWidthInX=A.size/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit)}var B=intToHexColorString(z);if(bf){g.push({x:x,y:y,ctx:d,type:A.type,size:A.size,color:B,borderColor:B,borderThickness:A.borderThickness})}}}if(m[i].indexLabel||l.indexLabel){this._indexLabels.push({chartType:"stepArea",dataPoint:m[i],dataSeries:l,point:{x:x,y:y},color:v})}}closeArea();bA.drawMarkers(g)}}b.restore();if(bf)this._eventManager.ghostCtx.restore();function closeArea(){if(!t)return;if(a.axisY.minimum<=0&&a.axisY.maximum>=0){s=r}else if(a.axisY.maximum<0)s=f.y1;else if(a.axisY.minimum>0)s=e.y2;b.lineTo(x,s);b.lineTo(t.x,s);b.closePath();b.fill();if(bf){d.lineTo(x,s);d.lineTo(t.x,s);d.closePath();d.fill()}b.beginPath();b.moveTo(x,y);d.beginPath();d.moveTo(x,y);t={x:x,y:y}}}Chart.prototype.renderStackedArea=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=null;var e=[];var f=this.plotArea;var g=[];var h=[];var i=0,x,y;var k;var l=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum))<<0;var m=a.axisX.dataInfo.minDiff;var n=this._eventManager.ghostCtx;if(bf)n.beginPath();b.save();if(bf)n.save();b.beginPath();b.rect(f.x1,f.y1,f.width,f.height);b.clip();if(bf){n.beginPath();n.rect(f.x1,f.y1,f.width,f.height);n.clip()}xValuePresent=[];for(var j=0;j<a.dataSeriesIndexes.length;j++){var o=a.dataSeriesIndexes[j];var p=this.data[o];var q=p.dataPoints;var r;p.dataPointIndexes=[];for(i=0;i<q.length;i++){r=q[i].x.getTime?q[i].x.getTime():q[i].x;p.dataPointIndexes[r]=i;if(!xValuePresent[r]){h.push(r);xValuePresent[r]=true}}h.sort(compareNumbers)}for(var j=0;j<a.dataSeriesIndexes.length;j++){var o=a.dataSeriesIndexes[j];var p=this.data[o];var q=p.dataPoints;var s=true;var t=[];var u=p.id;this._eventManager.objectMap[u]={objectType:"dataSeries",dataSeriesIndex:o};var v=intToHexColorString(u);n.fillStyle=v;if(h.length>0){d=p._colorSet[0];b.fillStyle=d;for(i=0;i<h.length;i++){k=h[i];var w=null;if(p.dataPointIndexes[k]>=0)w=q[p.dataPointIndexes[k]];else w={x:k,y:0};if(k<a.axisX.dataInfo.viewPortMin||k>a.axisX.dataInfo.viewPortMax){continue}if(typeof(w.y)!=="number")continue;var x=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(k-a.axisX.conversionParameters.minimum)+.5)<<0;var y=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(w.y-a.axisY.conversionParameters.minimum)+.5)<<0;var z=g[k]?g[k]:0;y=y-z;t.push({x:x,y:l-z});g[k]=l-y;if(s){b.beginPath();b.moveTo(x,y);if(bf){n.beginPath();n.moveTo(x,y)}s=false}else{b.lineTo(x,y);if(bf)n.lineTo(x,y);if(i%250==0){while(t.length>0){var A=t.pop();b.lineTo(A.x,A.y);if(bf)n.lineTo(A.x,A.y)}b.closePath();b.fill();b.beginPath();b.moveTo(x,y);if(bf){n.closePath();n.fill();n.beginPath();n.moveTo(x,y)}t.push({x:x,y:l-z})}}if(p.dataPointIndexes[k]>=0){var B=p.dataPointIds[p.dataPointIndexes[k]];this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:p.dataPointIndexes[k],x1:x,y1:y}}if(p.dataPointIndexes[k]>=0&&w.markerSize!==0){if(w.markerSize>0||p.markerSize>0){var C=p.getMarkerProperties(i,x,y,b);e.push(C);if(!p.maxWidthInX||C.size>p.maxWidthInX){p.maxWidthInX=C.size/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit)}markerColor=intToHexColorString(B);if(bf){e.push({x:x,y:y,ctx:n,type:C.type,size:C.size,color:markerColor,borderColor:markerColor,borderThickness:C.borderThickness})}}}if(w.indexLabel||p.indexLabel){this._indexLabels.push({chartType:"stackedArea",dataPoint:w,dataSeries:p,point:{x:x,y:y},color:d})}}while(t.length>0){var A=t.pop();b.lineTo(A.x,A.y);if(bf)n.lineTo(A.x,A.y)}b.closePath();b.fill();b.beginPath();b.moveTo(x,y);if(bf){n.closePath();n.fill();n.beginPath();n.moveTo(x,y)}}delete(p.dataPointIndexes)}bA.drawMarkers(e);b.restore();if(bf)n.restore()}Chart.prototype.renderStackedArea100=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=null;var e=this.plotArea;var f=[];var g=[];var h=[];var i=0,x,y;var k;var l=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum))<<0;var m=this.width*.15<<0;var n=a.axisX.dataInfo.minDiff;var o=(((e.width/Math.abs(a.axisX.maximum-a.axisX.minimum))*Math.abs(n))*.9)<<0;var p=this._eventManager.ghostCtx;b.save();if(bf)p.save();b.beginPath();b.rect(e.x1,e.y1,e.width,e.height);b.clip();if(bf){p.beginPath();p.rect(e.x1,e.y1,e.width,e.height);p.clip()}xValuePresent=[];for(var j=0;j<a.dataSeriesIndexes.length;j++){var q=a.dataSeriesIndexes[j];var r=this.data[q];var s=r.dataPoints;var t;r.dataPointIndexes=[];for(i=0;i<s.length;i++){t=s[i].x.getTime?s[i].x.getTime():s[i].x;r.dataPointIndexes[t]=i;if(!xValuePresent[t]){h.push(t);xValuePresent[t]=true}}h.sort(compareNumbers)}for(var j=0;j<a.dataSeriesIndexes.length;j++){var q=a.dataSeriesIndexes[j];var r=this.data[q];var s=r.dataPoints;var u=true;var v=r.id;this._eventManager.objectMap[v]={objectType:"dataSeries",dataSeriesIndex:q};var w=intToHexColorString(v);p.fillStyle=w;if(s.length==1)o=m;if(o<1)o=1;else if(o>m)o=m;var z=[];if(h.length>0){d=r._colorSet[i%r._colorSet.length];b.fillStyle=d;var A=(o>5)?false:false;for(i=0;i<h.length;i++){k=h[i];var B=null;if(r.dataPointIndexes[k]>=0)B=s[r.dataPointIndexes[k]];else B={x:k,y:0};if(k<a.axisX.dataInfo.viewPortMin||k>a.axisX.dataInfo.viewPortMax){continue}if(typeof(B.y)!=="number")continue;var C;if(a.dataPointYSums[k]!==0)C=B.y/a.dataPointYSums[k]*100;else C=0;var x=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(k-a.axisX.conversionParameters.minimum)+.5)<<0;var y=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(C-a.axisY.conversionParameters.minimum)+.5)<<0;var D=g[k]?g[k]:0;y=y-D;z.push({x:x,y:l-D});g[k]=l-y;if(u){b.beginPath();b.moveTo(x,y);if(bf){p.beginPath();p.moveTo(x,y)}u=false}else{b.lineTo(x,y);if(bf)p.lineTo(x,y);if(i%250==0){while(z.length>0){var E=z.pop();b.lineTo(E.x,E.y);if(bf)p.lineTo(E.x,E.y)}b.closePath();b.fill();b.beginPath();b.moveTo(x,y);if(bf){p.closePath();p.fill();p.beginPath();p.moveTo(x,y)}z.push({x:x,y:l-D})}}if(r.dataPointIndexes[k]>=0){var F=r.dataPointIds[r.dataPointIndexes[k]];this._eventManager.objectMap[F]={id:F,objectType:"dataPoint",dataSeriesIndex:q,dataPointIndex:r.dataPointIndexes[k],x1:x,y1:y}}if(r.dataPointIndexes[k]>=0&&B.markerSize!==0){if(B.markerSize>0||r.markerSize>0){var G=r.getMarkerProperties(i,x,y,b);f.push(G);if(!r.maxWidthInX||G.size>r.maxWidthInX){r.maxWidthInX=G.size/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit)}markerColor=intToHexColorString(F);if(bf){f.push({x:x,y:y,ctx:p,type:G.type,size:G.size,color:markerColor,borderColor:markerColor,borderThickness:G.borderThickness})}}}if(B.indexLabel||r.indexLabel){this._indexLabels.push({chartType:"stackedArea100",dataPoint:B,dataSeries:r,point:{x:x,y:y},color:d})}}while(z.length>0){var E=z.pop();b.lineTo(E.x,E.y);if(bf)p.lineTo(E.x,E.y)}b.closePath();b.fill();b.beginPath();b.moveTo(x,y);if(bf){p.closePath();p.fill();p.beginPath();p.moveTo(x,y)}}delete(r.dataPointIndexes)}bA.drawMarkers(f);b.restore();if(bf)p.restore()}Chart.prototype.renderBubble=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=null;var e=this.plotArea;var i=0,x,y;var f;var g=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum))<<0;var h=this.width*.15<<0;var k=a.axisX.dataInfo.minDiff;var l=(((e.width/Math.abs(a.axisX.maximum-a.axisX.minimum))*Math.abs(k))/c*.9)<<0;b.save();if(bf)this._eventManager.ghostCtx.save();b.beginPath();b.rect(e.x1,e.y1,e.width,e.height);b.clip();if(bf){this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height);this._eventManager.ghostCtx.clip()}var m=-Infinity;var n=Infinity;for(var j=0;j<a.dataSeriesIndexes.length;j++){var o=a.dataSeriesIndexes[j];var p=this.data[o];var q=p.dataPoints;var z=0;for(var i=0;i<q.length;i++){f=q[i].getTime?f=q[i].x.getTime():f=q[i].x;if(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax){continue}if(typeof(q[i].z)!=="undefined"){z=q[i].z;if(z>m)m=z;if(z<n)n=z}}}var r=Math.PI*5*5;var s=Math.max(Math.pow(Math.min(e.height,e.width)*.25/2,2)*Math.PI,r);for(var j=0;j<a.dataSeriesIndexes.length;j++){var o=a.dataSeriesIndexes[j];var p=this.data[o];var q=p.dataPoints;var t=true;if(q.length==1)l=h;if(l<1)l=1;else if(l>h)l=h;if(q.length>0){b.strokeStyle="#4572A7 ";for(var i=0;i<q.length;i++){f=q[i].getTime?f=q[i].x.getTime():f=q[i].x;if(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax){continue}if(typeof(q[i].y)!=="number")continue;x=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(f-a.axisX.conversionParameters.minimum)+.5)<<0;y=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(q[i].y-a.axisY.conversionParameters.minimum)+.5)<<0;var z=q[i].z;var u=(m===n)?s/2:r+(s-r)/(m-n)*(z-n);var v=Math.max(Math.sqrt(u/Math.PI)<<0,1);var w=v*2;var A=p.getMarkerProperties(i,b);A.size=w;bA.drawMarker(x,y,b,A.type,A.size,A.color,A.borderColor,A.borderThickness);if(!p.maxWidthInX||A.size>p.maxWidthInX){p.maxWidthInX=A.size/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit)}var B=p.dataPointIds[i];this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:o,dataPointIndex:i,x1:x,y1:y,size:w};var C=intToHexColorString(B);if(bf)bA.drawMarker(x,y,this._eventManager.ghostCtx,A.type,A.size,C,C,A.borderThickness)}}}b.restore();if(bf)this._eventManager.ghostCtx.restore()}Chart.prototype.renderScatter=function(a){var b=this.plotArea.ctx;var c=a.dataSeriesIndexes.length;if(c<=0)return;var d=null;var e=this.plotArea;var i=0,x,y;var f;var g=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum))<<0;var h=this.width*.15<<0;var k=a.axisX.dataInfo.minDiff;var l=(((e.width/Math.abs(a.axisX.maximum-a.axisX.minimum))*Math.abs(k))/c*.9)<<0;b.save();if(bf)this._eventManager.ghostCtx.save();b.beginPath();b.rect(e.x1,e.y1,e.width,e.height);b.clip();if(bf){this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height);this._eventManager.ghostCtx.clip()}for(var j=0;j<a.dataSeriesIndexes.length;j++){var m=a.dataSeriesIndexes[j];var n=this.data[m];var o=n.dataPoints;var p=true;if(o.length==1)l=h;if(l<1)l=1;else if(l>h)l=h;if(o.length>0){b.strokeStyle="#4572A7 ";var q=Math.pow(Math.min(e.height,e.width)*.3/2,2)*Math.PI;var r=0;var s=0;for(var i=0;i<o.length;i++){f=o[i].getTime?f=o[i].x.getTime():f=o[i].x;if(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax){continue}if(typeof(o[i].y)!=="number")continue;x=(a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(f-a.axisX.conversionParameters.minimum)+.5)<<0;y=(a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(o[i].y-a.axisY.conversionParameters.minimum)+.5)<<0;var t=n.getMarkerProperties(i,x,y,b);bA.drawMarker(t.x,t.y,t.ctx,t.type,t.size,t.color,t.color,t.thickness);if(!n.maxWidthInX||t.size>n.maxWidthInX){n.maxWidthInX=t.size/(a.axisX.conversionParameters.pixelPerUnit>1?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit)}if(Math.sqrt((r-x)*(r-x)+(s-y)*(s-y))<Math.min(t.size,5)){continue}var u=n.dataPointIds[i];this._eventManager.objectMap[u]={id:u,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:i,x1:x,y1:y};var v=intToHexColorString(u);if(bf){bA.drawMarker(t.x,t.y,this._eventManager.ghostCtx,t.type,t.size,v,v,t.borderThickness)}r=x;s=y}}}b.restore();if(bf)this._eventManager.ghostCtx.restore()}var bv=function(a,b,c,d,e,f,g){a.save();if(e==="pie"){a.beginPath();a.moveTo(b.x,b.y);a.arc(b.x,b.y,c,f,g,false);a.fillStyle=d;a.strokeStyle="white";a.lineWidth=2;a.closePath();a.fill()}else if(e==="doughnut"){var h=0.60;a.beginPath();a.arc(b.x,b.y,c,f,g,false);a.arc(b.x,b.y,h*c,g,f,true);a.closePath();a.fillStyle=d;a.strokeStyle="white";a.lineWidth=2;a.fill()}a.restore()};Chart.prototype.renderPie=function(K){var L=this;var M=K.dataSeriesIndexes.length;if(M<=0)return;var N=K.dataSeriesIndexes[0];var O=this.data[N];var P=O.dataPoints;var Q=10;var R=this.plotArea;var S=0;var T={frame:0,maxFrames:1};var U=[];var V=2;var W=1.3;var X=(20/180)*Math.PI;var Y=6;var Z={x:(R.x2+R.x1)/2,y:(R.y2+R.y1)/2};var bw=O.indexLabelPlacement==="inside"?(Math.min(R.width,R.height)*0.95)/2:(Math.min(R.width,R.height)*0.8)/2;var bx=bw*.6;var by=bw*W;var bz=bw;function resetAnimationFrame(a){a=a||1;T.frame=0;T.maxFrames=a}function initLabels(){if(!O||!P)return;var a=0;for(var j=0;j<P.length;j++){a+=Math.abs(P[j].y)}var b=0;var c=0;var d=0;var e=0;for(j=0;j<P.length;j++){var f=P[j];var g=O.dataPointIds[j];var h={id:g,objectType:"dataPoint",dataPointIndex:j,dataSeriesIndex:0};U.push(h);var i=f.indexLabel?f.indexLabel:O.indexLabel?O.indexLabel:f.label?f.label:O.label?O.label:'';L._eventManager.objectMap[g]=h;h.center={x:Z.x,y:Z.y};h.y=f.y;h.radius=bw;h.indexLabelText=L.replaceKeywordsWithValue(i,f,O,j)h.indexLabelPlacement=O.indexLabelPlacement;h.indexLabelLineColor=f.indexLabelLineColor?f.indexLabelLineColor:O.indexLabelLineColor?O.indexLabelLineColor:f.color?f.color:O._colorSet[j%O._colorSet.length];h.indexLabelLineThickness=f.indexLabelLineThickness?f.indexLabelLineThickness:O.indexLabelLineThickness;h.indexLabelFontColor=f.indexLabelFontColor?f.indexLabelFontColor:O.indexLabelFontColor;h.indexLabelFontStyle=f.indexLabelFontStyle?f.indexLabelFontStyle:O.indexLabelFontStyle;h.indexLabelFontWeight=f.indexLabelFontWeight?f.indexLabelFontWeight:O.indexLabelFontWeight;h.indexLabelFontSize=f.indexLabelFontSize?f.indexLabelFontSize:O.indexLabelFontSize;h.indexLabelFontFamily=f.indexLabelFontFamily?f.indexLabelFontFamily:O.indexLabelFontFamily;h.indexLabelBackgroundColor=f.indexLabelBackgroundColor?f.indexLabelBackgroundColor:O.indexLabelBackgroundColor?O.indexLabelBackgroundColor:null;h.indexLabelMaxWidth=f.indexLabelMaxWidth?f.indexLabelMaxWidth:O.indexLabelMaxWidth?O.indexLabelMaxWidth:R.width*.33;h.indexLabelWrap=f.indexLabelWrap?f.indexLabelWrap:O.indexLabelWrap;h.startAngle=j===0?O.startAngle?(O.startAngle/180)*Math.PI:0:U[j-1].endAngle;h.startAngle=(h.startAngle+(2*Math.PI))%(2*Math.PI);h.endAngle=h.startAngle+((2*Math.PI/a)*Math.abs(f.y));var k=(h.endAngle+h.startAngle)/2;k=(k+(2*Math.PI))%(2*Math.PI);h.midAngle=k;if(h.midAngle>(Math.PI/2)-X&&h.midAngle<(Math.PI/2)+X){if(b===0||U[d].midAngle>h.midAngle)d=j;b++}else if(h.midAngle>(3*Math.PI/2)-X&&h.midAngle<(3*Math.PI/2)+X){if(c===0||U[e].midAngle>h.midAngle)e=j;c++}if(k>(Math.PI/2)&&k<=(3*Math.PI/2))h.hemisphere="left";else h.hemisphere="right";h.indexLabelTextBlock=new TextBlock(L.plotArea.ctx,{fontSize:h.indexLabelFontSize,fontFamily:h.indexLabelFontFamily,fontColor:h.indexLabelFontColor,fontStyle:h.indexLabelFontStyle,fontWeight:h.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:h.indexLabelBackgroundColor,maxWidth:h.indexLabelMaxWidth,maxHeight:h.indexLabelWrap?h.indexLabelFontSize*5:h.indexLabelFontSize*1.5,text:h.indexLabelText,padding:0,textBaseline:"top"});h.indexLabelTextBlock.measureText()}var l=0;var m=0;var n=false;for(j=0;j<P.length;j++){var h=U[(d+j)%P.length];if(b>1&&h.midAngle>(Math.PI/2)-X&&h.midAngle<(Math.PI/2)+X){if(l<=b/2&&!n){h.hemisphere="right";l++}else{h.hemisphere="left";n=true}}}n=false;for(j=0;j<P.length;j++){var h=U[(e+j)%P.length];if(c>1&&h.midAngle>(3*Math.PI/2)-X&&h.midAngle<(3*Math.PI/2)+X){if(m<=c/2&&!n){h.hemisphere="left";m++}else{h.hemisphere="right";n=true}}}}function renderLabels(){var a=L.plotArea.ctx;a.fillStyle="black";a.strokeStyle="grey";var b=16;a.textBaseline="middle";a.lineJoin="round";var i=0,j=0;for(i=0;i<P.length;i++){var c=U[i];if(!c.indexLabelText)continue;c.indexLabelTextBlock.y-=c.indexLabelTextBlock.height/2;var d=0;if(c.hemisphere==="left"){var d=O.indexLabelPlacement==="outside"?-(c.indexLabelTextBlock.width+Q):-c.indexLabelTextBlock.width/2}else{var d=O.indexLabelPlacement==="outside"?Q:-c.indexLabelTextBlock.width/2}c.indexLabelTextBlock.x+=d;c.indexLabelTextBlock.render(true);c.indexLabelTextBlock.x-=d;c.indexLabelTextBlock.y+=c.indexLabelTextBlock.height/2;if(c.indexLabelPlacement==="outside"){var e=c.center.x+bw*Math.cos(c.midAngle);var f=c.center.y+bw*Math.sin(c.midAngle);a.strokeStyle=c.indexLabelLineColor;a.lineWidth=c.indexLabelLineThickness;a.beginPath();a.moveTo(e,f);a.lineTo(c.indexLabelTextBlock.x,c.indexLabelTextBlock.y);a.lineTo(c.indexLabelTextBlock.x+(c.hemisphere==="left"?-Q:Q),c.indexLabelTextBlock.y);a.stroke()}a.lineJoin="miter"}}function animate(){var a=L.plotArea.ctx;if(T!==null&&T.frame<T.maxFrames){if(T.frame===0)T.prevMaxAngle=U[0].startAngle;a.clearRect(R.x1,R.y1,R.width,R.height);var b=T.prevMaxAngle+(2*Math.PI/T.maxFrames);for(var i=0;i<P.length;i++){var c=i===0?U[i].startAngle:d;var d=c+(U[i].endAngle-U[i].startAngle);var e=false;if(d>b){d=b;e=true}var f=P[i].color?P[i].color:O._colorSet[i%O._colorSet.length];if(d>c)bv(L.plotArea.ctx,U[i].center,U[i].radius,f,O.type,c,d);if(e)break}T.frame++;T.prevMaxAngle=b;if(T.frame<T.maxFrames){L.animationRequestId=L.requestAnimFrame.call(window,animate)}else{resetAnimationFrame(bf?15:4);explodeToggle()}}}function explodeToggle(){var a=L.plotArea.ctx;var b=0;if(T!==null&&T.frame<T.maxFrames){a.clearRect(R.x1,R.y1,R.width,R.height);for(var i=0;i<P.length;i++){var c=U[i].startAngle;var d=U[i].endAngle;if(d>c){var e=(bw*.07*Math.cos(U[i].midAngle));var f=(bw*.07*Math.sin(U[i].midAngle));var g=false;if(P[i].exploded){if(Math.abs(U[i].center.x-(Z.x+e))>Math.abs(.5*e/T.maxFrames)||Math.abs(U[i].center.y-(Z.y+f))>Math.abs(.5*f/T.maxFrames)){U[i].center.x+=(e/T.maxFrames);U[i].center.y+=(f/T.maxFrames);g=true}}else if(Math.abs(U[i].center.x-Z.x)>Math.abs(.5*e/T.maxFrames)||Math.abs(U[i].center.y-Z.y)>Math.abs(.5*f/T.maxFrames)){U[i].center.x-=(e/T.maxFrames);U[i].center.y-=(f/T.maxFrames);g=true}if(g){var h={};h.dataSeries=O;h.dataPoint=O.dataPoints[i];h.index=i;L._toolTip.highlightObjects([h])}var j=P[i].color?P[i].color:O._colorSet[i%O._colorSet.length];bv(L.plotArea.ctx,U[i].center,U[i].radius,j,O.type,c,d)}}T.frame++;renderLabels();if(T.frame<T.maxFrames){L.animationRequestId=L.requestAnimFrame.call(window,explodeToggle)}}}function areDataPointsTooClose(a,b){var c={x1:a.indexLabelTextBlock.x,y1:a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,x2:a.indexLabelTextBlock.x+a.indexLabelTextBlock.width,y2:a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2};var d={x1:b.indexLabelTextBlock.x,y1:b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2,x2:b.indexLabelTextBlock.x+b.indexLabelTextBlock.width,y2:b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2};if(c.x2<d.x1-Q||c.x1>d.x2+Q||c.y1>d.y2+Q||c.y2<d.y1-Q)return false;return true}function getVerticalDistanceBetweenLabels(a,b){var c=0;var d={y:a.indexLabelTextBlock.y,y1:a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,y2:a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2};var e={y:b.indexLabelTextBlock.y,y1:b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2,y2:b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2};if(e.y>d.y){c=e.y1-d.y2}else{c=d.y1-e.y2}return c}function getNextLabelIndex(a){var b=null;for(var i=1;i<P.length;i++){b=(a+i+U.length)%U.length;if(U[b].hemisphere!==U[a].hemisphere){b=null;break}else if((U[b].indexLabelText)&&(b!==a)&&((getVerticalDistanceBetweenLabels(U[b],U[a])<0)||(U[a].hemisphere==="right"?U[b].indexLabelTextBlock.y>=U[a].indexLabelTextBlock.y:U[b].indexLabelTextBlock.y<=U[a].indexLabelTextBlock.y)))break;else{b=null}}return b}function getPreviousLabelIndex(a){var b=null;for(var i=1;i<P.length;i++){b=(a-i+U.length)%U.length;if(U[b].hemisphere!==U[a].hemisphere){b=null;break}else if((U[b].indexLabelText)&&(U[b].hemisphere===U[a].hemisphere)&&(b!==a)&&((getVerticalDistanceBetweenLabels(U[b],U[a])<0)||(U[a].hemisphere==="right"?U[b].indexLabelTextBlock.y<=U[a].indexLabelTextBlock.y:U[b].indexLabelTextBlock.y>=U[a].indexLabelTextBlock.y)))break;else{b=null}}return b}function rePositionLabels(a,b){b=b||0;var c=0;var d=Z.y-by*1;var e=Z.y+by*1;if(a>=0&&a<P.length){var f=U[a];if((b<0&&f.indexLabelTextBlock.y<d)||(b>0&&f.indexLabelTextBlock.y>e))return 0;var g=b;{var h=0;var i=0;var j=0;var k=0;var l=0;if(g<0){if(f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2>d&&f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2+g<d)g=-(d-(f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2+g))}else{if(f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2<d&&f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2+g>e)g=(f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2+g)-e}var m=f.indexLabelTextBlock.y+g;var n=0;if(f.hemisphere==="right"){n=Z.x+Math.sqrt(Math.pow(by,2)-Math.pow(m-Z.y,2))}else n=Z.x-Math.sqrt(Math.pow(by,2)-Math.pow(m-Z.y,2));i=Z.x+bw*Math.cos(f.midAngle);j=Z.y+bw*Math.sin(f.midAngle);h=Math.sqrt(Math.pow(n-i,2)+Math.pow(m-j,2));l=Math.acos(bw/by);k=Math.acos((by*by+bw*bw-h*h)/(2*bw*by));if(k<l){g=m-f.indexLabelTextBlock.y}else{g=0}}var o=getPreviousLabelIndex(a);var p=getNextLabelIndex(a);var q,otherDataPointIndex,u;var r=0;var s=0;if(g<0){otherDataPointIndex=f.hemisphere==="right"?o:p;c=g;if(otherDataPointIndex!==null){var t=-g;var u=(f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2)-(U[otherDataPointIndex].indexLabelTextBlock.y+U[otherDataPointIndex].indexLabelTextBlock.height/2);if(u-t<V){r=-t;S++;s=rePositionLabels(otherDataPointIndex,r);if(+s.toFixed(Y)>+r.toFixed(Y)){if(u>V)c=-(u-V);else c=-(t-(s-r))}}}}else if(g>0){otherDataPointIndex=f.hemisphere==="right"?p:o;c=g;if(otherDataPointIndex!==null){var t=g;var u=(U[otherDataPointIndex].indexLabelTextBlock.y-U[otherDataPointIndex].indexLabelTextBlock.height/2)-(f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2);if(u-t<V){r=t;S++;s=rePositionLabels(otherDataPointIndex,r);if(+s.toFixed(Y)<+r.toFixed(Y)){if(u>V)c=u-V;else c=t-(r-s)}}}}if(c){var v=f.indexLabelTextBlock.y+c;var w=0;if(f.hemisphere==="right"){w=Z.x+Math.sqrt(Math.pow(by,2)-Math.pow(v-Z.y,2))}else w=Z.x-Math.sqrt(Math.pow(by,2)-Math.pow(v-Z.y,2));if(f.midAngle>(Math.PI/2)-X&&f.midAngle<(Math.PI/2)+X){var x=(a-1+U.length)%U.length;var y=U[x];var z=U[(a+1+U.length)%U.length];if(f.hemisphere==="left"&&y.hemisphere==="right"&&w>y.indexLabelTextBlock.x){w=y.indexLabelTextBlock.x-15}else if(f.hemisphere==="right"&&z.hemisphere==="left"&&w<z.indexLabelTextBlock.x){w=z.indexLabelTextBlock.x+15}}else if(f.midAngle>(3*Math.PI/2)-X&&f.midAngle<(3*Math.PI/2)+X){var x=(a-1+U.length)%U.length;var y=U[x];var z=U[(a+1+U.length)%U.length];if(f.hemisphere==="right"&&y.hemisphere==="left"&&w<y.indexLabelTextBlock.x){w=y.indexLabelTextBlock.x+15}else if(f.hemisphere==="left"&&z.hemisphere==="right"&&w>z.indexLabelTextBlock.x){w=z.indexLabelTextBlock.x-15}}f.indexLabelTextBlock.y=v;f.indexLabelTextBlock.x=w;f.indexLabelAngle=Math.atan2((f.indexLabelTextBlock.y-Z.y),(f.indexLabelTextBlock.x-Z.x))}}return c}function positionLabels(){var l=L.plotArea.ctx;l.fillStyle="grey";l.strokeStyle="grey";var m=16;l.font=m+"px Arial";l.textBaseline="middle";var i=0,j=0;var n=0;for(j=0;j<10&&(j<1||n>0);j++){bw-=n;n=0;if(O.indexLabelPlacement==="outside"){by=bw*W;for(i=0;i<P.length;i++){var o=U[i];o.indexLabelTextBlock.x=Z.x+by*Math.cos(o.midAngle);o.indexLabelTextBlock.y=Z.y+by*Math.sin(o.midAngle);o.indexLabelAngle=o.midAngle;o.radius=bw}var p,J;for(i=0;i<P.length;i++){var o=U[i];var q=getNextLabelIndex(i);if(q===null)continue;p=U[i];J=U[q];var r=0;r=getVerticalDistanceBetweenLabels(p,J)-V;if(r<0){var s=0;var t=0;for(var k=0;k<P.length;k++){if(k===i)continue;if(U[k].hemisphere!==o.hemisphere)continue;if(U[k].indexLabelTextBlock.y<o.indexLabelTextBlock.y)s++;else t++}var u=(r)/(s+t||1)*(t);var v=-1*(r-u);var w=0;var x=0;if(o.hemisphere==="right"){w=rePositionLabels(i,u);v=-1*(r-w);x=rePositionLabels(q,v);if(+x.toFixed(Y)<+v.toFixed(Y)&&+w.toFixed(Y)<=+u.toFixed(Y))rePositionLabels(i,-(v-x))}else{w=rePositionLabels(q,u);v=-1*(r-w);x=rePositionLabels(i,v);if(+x.toFixed(Y)<+v.toFixed(Y)&&+w.toFixed(Y)<=+u.toFixed(Y))rePositionLabels(q,-(v-x))}}}}else{for(i=0;i<P.length;i++){var o=U[i];by=O.type==="pie"?bw*.7:bw*.8;var y=Z.x+by*(Math.cos((o.midAngle)));var z=Z.y+by*(Math.sin((o.midAngle)));o.indexLabelTextBlock.x=y;o.indexLabelTextBlock.y=z}}for(i=0;i<P.length;i++){o=U[i];var A=o.indexLabelTextBlock.measureText();if(A.height===0||A.width===0)continue;var B=0;var C=0;if(o.hemisphere==="right"){B=R.x2-(o.indexLabelTextBlock.x+o.indexLabelTextBlock.width+Q);B*=-1}else{B=R.x1-(o.indexLabelTextBlock.x-o.indexLabelTextBlock.width-Q)}if(B>0){if(Math.abs(o.indexLabelTextBlock.y-o.indexLabelTextBlock.height/2-Z.y)<bw||Math.abs(o.indexLabelTextBlock.y+o.indexLabelTextBlock.height/2-Z.y)<bw){C=B/Math.abs(Math.cos(o.indexLabelAngle));if(C>9)C=C*.3;if(C>n)n=C}else{}}var D=0;var E=0;if(o.indexLabelAngle>0&&o.indexLabelAngle<Math.PI){D=R.y2-(o.indexLabelTextBlock.y+o.indexLabelTextBlock.height/2+5);D*=-1}else{D=R.y1-(o.indexLabelTextBlock.y-o.indexLabelTextBlock.height/2-5)}if(D>0){if(Math.abs(o.indexLabelTextBlock.x-Z.x)<bw){E=D/Math.abs(Math.sin(o.indexLabelAngle));if(E>9)E=E*.3;if(E>n)n=E}else{}}else{}}function removeLabelsForSmallSegments(c,d,e){var f=[];var g=0;for(var i=d;true;i=(i+1+P.length)%P.length){f.push(U[i]);if(i===e)break}f.sort(function(a,b){return a.y-b.y});for(i=0;i<f.length;i++){var h=f[i];if(g<c){g+=h.indexLabelTextBlock.height;h.indexLabelTextBlock.text="";h.indexLabelText="";h.indexLabelTextBlock.measureText()}else break}}var F=-1;var G=-1;var H=0;for(var k=0;k<P.length;k++){p=U[k];if(!p.indexLabelText)continue;var I=getNextLabelIndex(k);if(I===null)continue;var J=U[I];r=0;r=getVerticalDistanceBetweenLabels(p,J);if(r<0&&areDataPointsTooClose(p,J)){if(F<0)F=k;if(I!==F)G=I;H+=-r}else{if(H>0){removeLabelsForSmallSegments(H,F,G);F=-1;G=-1;H=0}}}if(H>0)removeLabelsForSmallSegments(H,F,G)}resetAnimationFrame(L.animationEnabled&&L.renderCount===0?bf?60:30:1);animate()}this.pieDoughnutClickHandler=function(e){if(T.frame!==T.maxFrames){return}var i=e.dataPointIndex;var a=e.dataPoint;var b=this;var c=b.dataPointIds[i];if(a.exploded)a.exploded=false;else a.exploded=true;resetAnimationFrame(bf?15:4);if(b.dataPoints.length>1)explodeToggle();return}initLabels();positionLabels()}Chart.prototype.animationRequestId=null;Chart.prototype.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1000/60)}})();Chart.prototype.cancelRequestAnimFrame=(function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout})();function LayoutManager(a){this._topOccupied=0;this._bottomOccupied=0;this._leftOccupied=0;this._rightOccupied=0;this.chart=a}LayoutManager.prototype.registerSpace=function(a,b){if(a==="top"){this._topOccupied+=b.height}else if(a==="bottom"){this._bottomOccupied+=b.height}else if(a==="left"){this._leftOccupied+=b.width}else if(a==="right"){this._rightOccupied+=b.width}}LayoutManager.prototype.unRegisterSpace=function(a,b){if(a==="top"){this._topOccupied-=b.height}else if(a==="bottom"){this._bottomOccupied-=b.height}else if(a==="left"){this._leftOccupied-=b.width}else if(a==="right"){this._rightOccupied-=b.width}}LayoutManager.prototype.getFreeSpace=function(){return{x1:this._leftOccupied,y1:this._topOccupied,x2:this.chart.width-this._rightOccupied,y2:this.chart.height-this._bottomOccupied,width:(this.chart.width-this._rightOccupied)-this._leftOccupied,height:(this.chart.height-this._bottomOccupied)-this._topOccupied}}LayoutManager.prototype.reset=function(){this._topOccupied=0;this._bottomOccupied=3;this._leftOccupied=0;this._rightOccupied=0}function TextBlock(a,b){TextBlock.parent.constructor.call(this,"TextBlock",b);this.ctx=a;this._isDirty=true;this._wrappedText=null;this._lineHeight=getFontHeightInPixels(this.fontFamily,this.fontSize,this.fontWeight)}extend(TextBlock,CanvasJSObject);TextBlock.prototype.render=function(a){if(a)this.ctx.save();var b=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var c=0;if(this._isDirty)this.measureText(this.ctx);this.ctx.translate(this.x,this.y+c);if(this.textBaseline==="middle"){c=-this._lineHeight/2}this.ctx.font=this._getFontString();this.ctx.rotate(Math.PI/180*this.angle);var d=0;var e=this.padding;var f=null;if((this.borderThickness>0&&this.borderColor)||this.backgroundColor){this.ctx.roundRect(0,c,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor)}this.ctx.fillStyle=this.fontColor;for(var i=0;i<this._wrappedText.lines.length;i++){f=this._wrappedText.lines[i];if(this.horizontalAlign==="right")d=this.width-f.width-this.padding;else if(this.horizontalAlign==="left")d=this.padding;else if(this.horizontalAlign==="center")d=(this.width-this.padding*2)/2-f.width/2+this.padding;this.ctx.fillText(f.text,d,e);e+=f.height}this.ctx.font=b;if(a)this.ctx.restore()}TextBlock.prototype.setText=function(a){this.text=a;this._isDirty=true;this._wrappedText=null}TextBlock.prototype.measureText=function(){if(this.maxWidth===null){throw("Please set maxWidth and height for TextBlock");}this._wrapText(this.ctx);this._isDirty=false;return{width:this.width,height:this.height}}TextBlock.prototype._getLineWithWidth=function(a,b,c){a=String(a);c=c||false;if(!a)return{text:"",width:0};var d=0,min=0,max=a.length-1,mid=Infinity;this.ctx.font=this._getFontString();while(min<=max){mid=Math.floor((min+max)/2);var e=a.substr(0,mid+1);d=this.ctx.measureText(e).width;if(d<b){min=mid+1}else if(d>b){max=mid-1}else{break}}if(d>b&&e.length>1){e=e.substr(0,e.length-1);d=this.ctx.measureText(e).width}var f=true;if(e.length===a.length||a[e.length]===" ")f=false;if(f){var g=e.split(" ");if(g.length>1)g.pop();e=g.join(" ");d=this.ctx.measureText(e).width}return{text:e,width:d}}TextBlock.prototype._wrapText=function wrapText(){var a=new String(trimString(this.text));var b=[];var c=this.ctx.font;var d=0;var e=0;this.ctx.font=this._getFontString();while(a.length>0){var f=this.maxWidth-this.padding*2;var g=this.maxHeight-this.padding*2;var h=this._getLineWithWidth(a,f,false);h.height=this._lineHeight;b.push(h);e=Math.max(e,h.width);d+=h.height;a=trimString(a.slice(h.text.length,a.length));if(g&&d>g){var h=b.pop();d-=h.height}}this._wrappedText={lines:b,width:e,height:d};this.width=e+this.padding*2;this.height=d+this.padding*2;this.ctx.font=c}TextBlock.prototype._getFontString=function(){return getFontString("",this,null)}function Title(a,b){Title.parent.constructor.call(this,"Title",b,a.theme);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx;if(typeof(this._options.fontSize)==="undefined"){this.fontSize=this.chart.getAutoFontSize(this.fontSize)}this.width=null,this.height=null this.bounds={x1:null,y1:null,x2:null,y2:null}}extend(Title,CanvasJSObject);Title.prototype.render=function(){if(!this.text)return;var a=this.chart.layoutManager.getFreeSpace();var b=0;var c=0;var d=0;var e=0;var f=0;var g;var h;if(this.verticalAlign==="top"||this.verticalAlign==="bottom"){e=a.width-this.margin*2;f=a.height*.5-this.margin*2;d=0}else if(this.verticalAlign==="center"){if(this.horizontalAlign==="left"||this.horizontalAlign==="right"){e=a.height-this.margin*2;f=a.width*.5-this.margin*2}else if(this.horizontalAlign==="center"){e=a.width-this.margin*2;f=a.height*.5-this.margin*2}}var i=new TextBlock(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:e,maxHeight:f,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"});var j=i.measureText();if(this.verticalAlign==="top"||this.verticalAlign==="bottom"){if(this.verticalAlign==="top"){c=this.margin;h="top"}else if(this.verticalAlign==="bottom"){c=a.y2-this.margin-j.height;h="bottom"}if(this.horizontalAlign==="left"){b=a.x1+this.margin}else if(this.horizontalAlign==="center"){b=a.x1+(e/2-j.width/2)+this.margin}else if(this.horizontalAlign==="right"){b=a.x2-this.margin-j.width}g=this.horizontalAlign;this.width=j.width;this.height=j.height}else if(this.verticalAlign==="center"){if(this.horizontalAlign==="left"){b=a.x1+this.margin;c=a.y2-this.margin-(e/2-j.width/2);d=-90;h="left";this.width=j.height;this.height=j.width}else if(this.horizontalAlign==="right"){b=a.x2-this.margin;c=a.y1+this.margin+(e/2-j.width/2);d=90;h="right";this.width=j.height;this.height=j.width}else if(this.horizontalAlign==="center"){c=a.y1+(a.height/2-j.height/2);b=a.x1+(a.width/2-j.width/2);h="center";this.width=j.width;this.height=j.height}g="center"}i.x=b;i.y=c;i.angle=d;i.horizontalAlign=g;i.render(true);this.chart.layoutManager.registerSpace(h,{width:this.width+this.margin*2,height:this.height+this.margin*2});this.bounds={x1:b,y1:c,x2:b+this.width,y2:c+this.height};this.ctx.textBaseline="top"}function Legend(a,b,c){Legend.parent.constructor.call(this,"Legend",b,c);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx;this.ghostCtx=this.chart._eventManager.ghostCtx;this.items=[];this.width=0,this.height=0,this.orientation=null,this.horizontalSpacing=10;this.dataSeries=[];this.bounds={x1:null,y1:null,x2:null,y2:null};if(typeof(this._options.fontSize)==="undefined"){this.fontSize=this.chart.getAutoFontSize(this.fontSize)}this.lineHeight=getFontHeightInPixels(this.fontFamily,this.fontSize,this.fontWeight)}extend(Legend,CanvasJSObject);Legend.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace();var b=null;var c=0;var d=0;var e=0;var f=0;var g=5;var h=[];var j=[];if(this.verticalAlign==="top"||this.verticalAlign==="bottom"){this.orientation="horizontal";b=this.verticalAlign;e=a.width*.9;f=a.height*.5}else if(this.verticalAlign==="center"){this.orientation="vertical";b=this.horizontalAlign;e=a.width*.5;f=a.height*.9}for(var i=0;i<this.dataSeries.length;i++){var k=this.dataSeries[i];var l=k.legendMarkerType?k.legendMarkerType:(k.type==="line"||k.type==="stepLine"||k.type==="spline"||k.type==="scatter"||k.type==="bubble")&&k.markerType?k.markerType:DataSeries.getDefaultLegendMarker(k.type);var m=k.legendText?k.legendText:k.name;var n=k.legendMarkerColor?k.legendMarkerColor:k.markerColor?k.markerColor:k._colorSet[0];var o=(!k.markerSize&&(k.type==="line"||k.type==="stepLine"||k.type==="spline"))?0:this.lineHeight*.6;var p=k._colorSet[0];if(k.type!=="pie"&&k.type!=="doughnut"){var q={markerType:l,markerColor:n,text:m,textBlock:null,chartType:k.type,markerSize:o,lineColor:k._colorSet[0],dataSeriesIndex:i,dataPointIndex:null};h.push(q)}else{for(var r=0;r<k.dataPoints.length;r++){var s=k.dataPoints[r];l=s.legendMarkerType?s.legendMarkerType:k.legendMarkerType?k.legendMarkerType:DataSeries.getDefaultLegendMarker(k.type);var m=s.legendText?s.legendText:k.legendText?k.legendText:s.name?s.name:"DataPoint: "+(r+1);var n=s.markerColor?s.markerColor:k.markerColor?k.markerColor:s.color?s.color:k.color?k.color:k._colorSet[r%k._colorSet.length];var o=((s.markerSize===0||(k.markerSize===0&&!s.markerSize))&&(k.type==="line"||k.type==="stepLine"||k.type==="spline"))?0:this.lineHeight*.6;var q={markerType:l,markerColor:n,text:m,textBlock:null,chartType:k.type,markerSize:o,dataSeriesIndex:i,dataPointIndex:r};h.push(q)}}q=null}if(h.length>0){var t=null;var u=0;for(var i=0;i<h.length;i++){var q=h[i];if(this.orientation==="horizontal"){q.textBlock=new TextBlock(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:this.lineHeight,angle:0,text:q.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"});q.textBlock.measureText();if(!t||t.width+q.textBlock.width+(t.width===0?0:this.horizontalSpacing)>e){t={items:[],width:0};j.push(t);this.height=j.length*(q.textBlock.height+5)}q.textBlock.x=t.width;q.textBlock.y=0;t.width+=Math.round(q.textBlock.width+q.textBlock._lineHeight+(t.width===0?0:q.textBlock._lineHeight*.5));t.items.push(q);this.width=Math.max(t.width,this.width)}else{if(this.height+this.lineHeight<f){t={items:[],width:0};j.push(t);this.height=j.length*(this.lineHeight)}else{t=j[u];u=(u+1)%j.length}q.textBlock=new TextBlock(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:this.fontSize*1.5,angle:0,text:q.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"});q.textBlock.measureText();q.textBlock.x=t.width;q.textBlock.y=0;t.width+=q.textBlock.width+q.textBlock._lineHeight+(t.width===0?0:q.textBlock._lineHeight*.5);t.items.push(q);this.width=Math.max(t.width,this.width)}}this.height=j.length*(this.lineHeight)}if(this.verticalAlign==="top"){if(this.horizontalAlign==="left")d=a.x1+2;else if(this.horizontalAlign==="right")d=a.x2-this.width-2;else d=a.x1+a.width/2-this.width/2;c=a.y1}else if(this.verticalAlign==="center"){if(this.horizontalAlign==="left")d=a.x1+2;else if(this.horizontalAlign==="right")d=a.x2-this.width-2;else d=a.x1+a.width/2-this.width/2;c=a.y1+a.height/2-this.height/2}else if(this.verticalAlign==="bottom"){if(this.horizontalAlign==="left")d=a.x1+2;else if(this.horizontalAlign==="right")d=a.x2-this.width-2;else d=a.x1+a.width/2-this.width/2;c=a.y2-this.height-5}this.items=h;for(var i=0;i<this.items.length;i++){var q=h[i];q.id=++this.chart._eventManager.lastObjectId;this.chart._eventManager.objectMap[q.id]={id:q.id,objectType:"legendItem",legendItemIndex:i,dataSeriesIndex:q.dataSeriesIndex,dataPointIndex:q.dataPointIndex}}for(var i=0;i<j.length;i++){var t=j[i];for(var v=0;v<t.items.length;v++){var q=t.items[v];var w=q.textBlock.x+d+(v===0?o*.2:(this.lineHeight*.4)+(o*.2));var x=c+(i*this.lineHeight);var y=w;if(!this.chart.data[q.dataSeriesIndex].visible)this.ctx.globalAlpha=.5;if(q.chartType==="line"||q.chartType==="stepLine"||q.chartType==="spline"){this.ctx.strokeStyle=q.lineColor;this.ctx.lineWidth=Math.ceil(this.lineHeight/8);this.ctx.beginPath();this.ctx.moveTo(w-this.lineHeight*.1,x+this.lineHeight/2);this.ctx.lineTo(w+this.lineHeight*.7,x+this.lineHeight/2);this.ctx.stroke();y-=this.lineHeight*.1}bA.drawMarker(w+o/2,x+(this.lineHeight/2),this.ctx,q.markerType,o,q.markerColor,null,0);q.textBlock.x=w+Math.round(this.lineHeight*.9);q.textBlock.y=x;q.textBlock.render(true);if(!this.chart.data[q.dataSeriesIndex].visible)this.ctx.globalAlpha=1;var z=intToHexColorString(q.id);this.ghostCtx.fillStyle=z;this.ghostCtx.beginPath();this.ghostCtx.fillRect(y,q.textBlock.y,q.textBlock.x+q.textBlock.width-y,q.textBlock.height);q.x1=this.chart._eventManager.objectMap[q.id].x1=y;q.y1=this.chart._eventManager.objectMap[q.id].y1=q.textBlock.y;q.x2=this.chart._eventManager.objectMap[q.id].x2=q.textBlock.x+q.textBlock.width;q.y2=this.chart._eventManager.objectMap[q.id].y2=q.textBlock.y+q.textBlock.height}}this.chart.layoutManager.registerSpace(b,{width:this.width+2+2,height:this.height+5+5});this.bounds={x1:d,y1:c,x2:d+this.width,y2:c+this.height}}function PlotArea(a,b){PlotArea.parent.constructor.call(this,b);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx}extend(PlotArea,CanvasJSObject);PlotArea.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace();this.ctx.fillStyle="red";this.ctx.fillRect(a.x1,a.y1,a.x2,a.y2)}function DataSeries(a,b,c,d,e){DataSeries.parent.constructor.call(this,"DataSeries",b,c);this.chart=a;this.canvas=a.canvas;this._ctx=a.canvas.ctx;this.index=d;this.noDataPointsInPlotArea=0;this.maxWidthInX=0;this.id=e;this.chart._eventManager.objectMap[e]={id:e,objectType:"dataSeries",dataSeriesIndex:d}this.dataPointIds=[];this.axisX=null;this.axisY=null;this.axisPlacement=this.getDefaultAxisPlacement();if(typeof(this._options.indexLabelFontSize)==="undefined"){this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize)}}extend(DataSeries,CanvasJSObject);DataSeries.prototype.getDefaultAxisPlacement=function(){var a=this.type;if(a==="column"||a==="line"||a==="stepLine"||a==="spline"||a==="area"||a==="stepArea"||a==="splineArea"||a==="stackedColumn"||a==="stackedLine"||a==="bubble"||a==="scatter"||a==="stackedArea"||a==="stackedColumn100"||a==="stackedLine100"||a==="stackedArea100"){return"normal"}else if(a==="bar"||a==="stackedBar"||a==="stackedBar100"){return"xySwapped"}else if(a==="pie"||a==="doughnut"){return"none"}else{window.console.log("Unknown Chart Type: "+a);return null}}DataSeries.getDefaultLegendMarker=function(a){if(a==="column"||a==="stackedColumn"||a==="stackedLine"||a==="bar"||a==="stackedBar"||a==="stackedBar100"||a==="bubble"||a==="scatter"||a==="stackedColumn100"||a==="stackedLine100"||a==="stepArea"){return"square"}else if(a==="line"||a==="stepLine"||a==="spline"||a==="pie"||a==="doughnut"){return"circle"}else if(a==="area"||a==="splineArea"||a==="stackedArea"||a==="stackedArea100"){return"triangle"}else{window.console.log("Unknown Chart Type: "+a);return null}}DataSeries.prototype.getDataPointAtX=function(x,a){if(!this.dataPoints||this.dataPoints.length===0)return null;var b={dataPoint:null,distance:Infinity,index:NaN};var c=null;var j=0;var i=0;var d=1;var e=Infinity;var f=0,backwardMissCount=0;var g=1000;var h=0;if(this.chart.plotInfo.axisPlacement!=="none"){var k=(this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x);if(k>0)h=((this.dataPoints.length-1)/k*(x-this.dataPoints[0].x))>>0;else h=0}while(true){i=(d>0)?h+j:h-j;if(i>=0&&i<this.dataPoints.length){c=this.dataPoints[i];var l=Math.abs(c.x-x);if(l<b.distance){b.dataPoint=c;b.distance=l;b.index=i}var m=Math.abs(c.x-x);if(m<=e)e=m;else{if(d>0)f++;else backwardMissCount++}if(f>g&&backwardMissCount>g)break}else if(h-j<0&&h+j>=this.dataPoints.length)break;if(d===-1){j++;d=1}else d=-1}if(!a&&b.dataPoint.x===x)return b;else if(a&&b.dataPoint!==null)return b;else return null}DataSeries.prototype.getDataPointAtXY=function(x,y,a){if(!this.dataPoints||this.dataPoints.length===0)return null;a=a||false;var b=[];var j=0,i=0;var c=1;var d=false;var e=Infinity;var f=0,backwardMissCount=0;var g=1000;var h=0;if(this.chart.plotInfo.axisPlacement!=="none"){var k=this.chart.axisX.getXValueAt({x:x,y:y});var l=(this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x);if(l>0)h=((this.dataPoints.length-1)/l*(k-this.dataPoints[0].x))>>0;else h=0}while(true){i=(c>0)?h+j:h-j;if(i>=0&&i<this.dataPoints.length){var n=this.dataPointIds[i];var o=this.chart._eventManager.objectMap[n];var p=this.dataPoints[i];if(o){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":if(x>=o.x1&&x<=o.x2&&y>=o.y1&&y<=o.y2){b.push({dataPoint:p,dataPointIndex:i,dataSeries:this,distance:Math.min(Math.abs(o.x1-x),Math.abs(o.x2-x),Math.abs(o.y1-y),Math.abs(o.y2-y))});d=true}break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var q=getProperty("markerSize",p,this)||4;var r=a?20:q;var s=Math.sqrt(Math.pow(o.x1-x,2)+Math.pow(o.y1-y,2));if(s<=r){b.push({dataPoint:p,dataPointIndex:i,dataSeries:this,distance:s})}var t=Math.abs(o.x1-x);if(t<=e)e=t;else{if(c>0)f++;else backwardMissCount++}if(s<=q/2){d=true}break;case"bubble":var q=o.size;var s=Math.sqrt(Math.pow(o.x1-x,2)+Math.pow(o.y1-y,2));if(s<=q/2){b.push({dataPoint:p,dataPointIndex:i,dataSeries:this,distance:s});d=true}break;case"pie":case"doughnut":var u=o.center;var v=this.type==="doughnut"?.6*o.radius:0;var s=Math.sqrt(Math.pow(u.x-x,2)+Math.pow(u.y-y,2));if(s<o.radius&&s>v){var w=y-u.y;var z=x-u.x;var A=Math.atan2(w,z);if(A<0)A+=Math.PI*2;A=((A/Math.PI*180%360)+360)%360;var B=((o.startAngle/Math.PI*180%360)+360)%360;var C=((o.endAngle/Math.PI*180%360)+360)%360;if(C===0&&o.endAngle>1){C=360}if(B>C){C+=360;if(A<B)A+=360}if(A>B&&A<C){b.push({dataPoint:p,dataPointIndex:i,dataSeries:this,distance:0});d=true}}break}if(d||(f>g&&backwardMissCount>g))break}}else if(h-j<0&&h+j>=this.dataPoints.length)break;if(c===-1){j++;c=1}else c=-1}var D=null;for(var m=0;m<b.length;m++){if(!D){D=b[m]}else if(b[m].distance<=D.distance){D=b[m]}}return D}DataSeries.prototype.getMarkerProperties=function(a,x,y,b){var c=this.dataPoints;var d=this;var e=c[a].markerColor?c[a].markerColor:d.markerColor?d.markerColor:c[a].color?c[a].color:d.color?d.color:d._colorSet[a%d._colorSet.length];var f=c[a].markerBorderColor?c[a].markerBorderColor:d.markerBorderColor?d.markerBorderColor:null;var g=c[a].markerBorderThickness?c[a].markerBorderThickness:d.markerBorderThickness?d.markerBorderThickness:null;var h=c[a].markerType?c[a].markerType:d.markerType;var i=c[a].markerSize?c[a].markerSize:d.markerSize;return{x:x,y:y,ctx:b,type:h,size:i,color:e,borderColor:f,borderThickness:g}}function Axis(a,b,c,d){Axis.parent.constructor.call(this,"Axis",b,a.theme);this.chart=a;this.canvas=a.canvas;this.ctx=a.ctx;this.maxWidth=0;this.maxHeight=0;this.intervalStartPosition=0;this.labels=[];this._labels=null;this.dataInfo={min:Infinity,max:-Infinity,viewPortMin:Infinity,viewPortMax:-Infinity,minDiff:Infinity};if(c==="axisX"){this.sessionVariables=this.chart.sessionVariables[c];if(!this._options.interval)this.intervalType=null}else{if(d==="left"||d==="top")this.sessionVariables=this.chart.sessionVariables["axisY"];else{this.sessionVariables=this.chart.sessionVariables["axisY2"]}}if(typeof(this._options.titleFontSize)==="undefined"){this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)}if(typeof(this._options.labelFontSize)==="undefined"){this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)}this.type=c;if(c==="axisX"&&(!b||typeof(b.gridThickness)==="undefined"))this.gridThickness=0;this._position=d;this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null};{this.labelAngle=((this.labelAngle%360)+360)%360;if(this.labelAngle>90&&this.labelAngle<=270)this.labelAngle-=180;else if(this.labelAngle>180&&this.labelAngle<=270)this.labelAngle-=180 else if(this.labelAngle>270&&this.labelAngle<=360)this.labelAngle-=360}if(this._options.stripLines&&this._options.stripLines.length>0){this.stripLines=[];for(var i=0;i<this._options.stripLines.length;i++){this.stripLines.push(new StripLine(this.chart,this._options.stripLines[i],a.theme,++this.chart._eventManager.lastObjectId))}}this._titleTextBlock=null;this._absoluteMinimum=null;this._absoluteMaximum=null;if(this.hasOptionChanged("minimum"))this.sessionVariables.internalMinimum=this.minimum;if(this.hasOptionChanged("maximum"))this.sessionVariables.internalMaximum=this.maximum;this.trackChanges("minimum");this.trackChanges("maximum")}extend(Axis,CanvasJSObject);Axis.prototype.createLabels=function(){var a;var i=0;var b;var c=0;var d=0;var e=0;if(this._position==="bottom"||this._position==="top"){e=this.lineCoordinates.width/Math.abs(this.maximum-this.minimum)*this.interval;if(this.labelAutoFit){c=typeof(this._options.labelMaxWidth)==="undefined"?e*.9>>0:this.labelMaxWidth}else{c=typeof(this._options.labelMaxWidth)==="undefined"?this.chart.width*.7>>0:this.labelMaxWidth}d=typeof(this._options.labelWrap)==="undefined"||this.labelWrap?this.chart.height*.5>>0:this.labelFontSize*1.5}else if(this._position==="left"||this._position==="right"){e=this.lineCoordinates.height/Math.abs(this.maximum-this.minimum)*this.interval;if(this.labelAutoFit){c=typeof(this._options.labelMaxWidth)==="undefined"?this.chart.width*.3>>0:this.labelMaxWidth}else{c=typeof(this._options.labelMaxWidth)==="undefined"?this.chart.width*.5>>0:this.labelMaxWidth}d=typeof(this._options.labelWrap)==="undefined"||this.labelWrap?e*2>>0:this.labelFontSize*1.5}if(this.type==="axisX"&&this.chart.plotInfo.axisXValueType==="dateTime"){b=addToDateTime(new Date(this.maximum),this.interval,this.intervalType)for(i=this.intervalStartPosition;i<b;addToDateTime(i,this.interval,this.intervalType)){var f=this.type==="axisX"&&this.labels[i]?this.labels[i]:bn(i,this.valueFormatString,this.chart._cultureInfo);a=new TextBlock(this.ctx,{x:0,y:0,maxWidth:c,maxHeight:d,angle:this.labelAngle,text:this.prefix+f+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"});this._labels.push({position:i.getTime(),textBlock:a,effectiveHeight:null})}}else{b=this.maximum;if(this.labels&&this.labels.length){var g=Math.ceil(this.interval);var h=Math.ceil(this.intervalStartPosition);var j=false;for(i=h;i<this.maximum;i+=g){if(this.labels[i]){j=true}else{j=false;break}}if(j){this.interval=g;this.intervalStartPosition=h}}for(i=this.intervalStartPosition;i<=b;i+=this.interval){var f=this.type==="axisX"&&this.labels[i]?this.labels[i]:bo(i,this.valueFormatString,this.chart._cultureInfo);a=new TextBlock(this.ctx,{x:0,y:0,maxWidth:c,maxHeight:d,angle:this.labelAngle,text:this.prefix+f+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0});this._labels.push({position:i,textBlock:a,effectiveHeight:null})}}for(var i=0;i<this.stripLines.length;i++){var k=this.stripLines[i];a=new TextBlock(this.ctx,{x:0,y:0,backgroundColor:k.labelBackgroundColor,maxWidth:c,maxHeight:d,angle:this.labelAngle,text:k.label,horizontalAlign:"left",fontSize:k.labelFontSize,fontFamily:k.labelFontFamily,fontWeight:k.labelFontWeight,fontColor:k.labelFontColor,fontStyle:k.labelFontStyle,textBaseline:"middle",borderThickness:0});this._labels.push({position:k.value,textBlock:a,effectiveHeight:null,stripLine:k})}}Axis.prototype.createLabelsAndCalculateWidth=function(){var a=0;this._labels=[];if(this._position==="left"||this._position==="right"){this.createLabels();for(i=0;i<this._labels.length;i++){var b=this._labels[i].textBlock;var c=b.measureText();var d=0;if(this.labelAngle===0)d=c.width;else d=(c.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))+(c.height/2*Math.sin(Math.PI/180*Math.abs(this.labelAngle)));if(a<d)a=d;this._labels[i].effectiveWidth=d}}var e=this.title?getFontHeightInPixels(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0;return e+a+this.tickLength+5}Axis.prototype.createLabelsAndCalculateHeight=function(){var a=0;this._labels=[];var b;var i=0;this.createLabels();if(this._position==="bottom"||this._position==="top"){for(i=0;i<this._labels.length;i++){b=this._labels[i].textBlock;var c=b.measureText();var d=0;if(this.labelAngle===0)d=c.height;else d=(c.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))+(c.height/2*Math.cos(Math.PI/180*Math.abs(this.labelAngle)));if(a<d)a=d;this._labels[i].effectiveHeight=d}}var e=this.title?getFontHeightInPixels(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0;return e+a+this.tickLength+5}Axis.setLayoutAndRender=function(a,b,c,d,e){var f,y1,x2,y2;var g=a.chart;var h=g.ctx;a.calculateAxisParameters();if(b)b.calculateAxisParameters();if(c)c.calculateAxisParameters();if(b&&c&&typeof(b._options.maximum)==="undefined"&&typeof(b._options.minimum)==="undefined"&&typeof(b._options.interval)==="undefined"&&typeof(c._options.maximum)==="undefined"&&typeof(c._options.minimum)==="undefined"&&typeof(c._options.interval)==="undefined"){var i=(b.maximum-b.minimum)/b.interval;var j=(c.maximum-c.minimum)/c.interval;if(i>j){c.maximum=c.interval*i+c.minimum}else if(j>i){b.maximum=b.interval*j+b.minimum}}var k=b?b.lineThickness?b.lineThickness:0:0;var l=c?c.lineThickness?c.lineThickness:0:0;var m=b?b.gridThickness?b.gridThickness:0:0;var n=c?c.gridThickness?c.gridThickness:0:0;var o=b?b.margin:0;var p=b?b.margin:0;if(d==="normal"){a.lineCoordinates={};var q=Math.ceil(b?b.createLabelsAndCalculateWidth():0);f=Math.round(e.x1+q+o);a.lineCoordinates.x1=f;var r=Math.ceil(c?c.createLabelsAndCalculateWidth():0);x2=Math.round(e.x2-r>a.chart.width-10?a.chart.width-10:e.x2-r);a.lineCoordinates.x2=x2;a.lineCoordinates.width=Math.abs(x2-f);var s=Math.ceil(a.createLabelsAndCalculateHeight());y1=Math.round(e.y2-s-a.margin);y2=Math.round(e.y2-a.margin);a.lineCoordinates.y1=y1;a.lineCoordinates.y2=y1;a.boundingRect={x1:f,y1:y1,x2:x2,y2:y2,width:x2-f,height:y2-y1};if(b){f=Math.round(e.x1+b.margin);y1=Math.round(e.y1<10?10:e.y1);x2=Math.round(e.x1+q+b.margin);y2=Math.round(e.y2-s-a.margin);b.lineCoordinates={x1:x2,y1:y1,x2:x2,y2:y2,height:Math.abs(y2-y1)}b.boundingRect={x1:f,y1:y1,x2:x2,y2:y2,width:x2-f,height:y2-y1}}if(c){f=Math.round(a.lineCoordinates.x2);y1=Math.round(e.y1<10?10:e.y1);x2=Math.round(f+r+c.margin);y2=Math.round(e.y2-s-a.margin);c.lineCoordinates={x1:f,y1:y1,x2:f,y2:y2,height:Math.abs(y2-y1)}c.boundingRect={x1:f,y1:y1,x2:x2,y2:y2,width:x2-f,height:y2-y1}}a.calculateValueToPixelconversionParameters();if(b)b.calculateValueToPixelconversionParameters();if(c)c.calculateValueToPixelconversionParameters();h.save();h.rect(a.boundingRect.x1-40,a.boundingRect.y1,a.boundingRect.width+80,a.boundingRect.height);h.clip();a.renderLabelsTicksAndTitle();h.restore();if(b)b.renderLabelsTicksAndTitle();if(c)c.renderLabelsTicksAndTitle();g.preparePlotArea();var t=a.chart.plotArea;h.save();h.rect(t.x1,t.y1,Math.abs(t.x2-t.x1),Math.abs(t.y2-t.y1));h.clip();a.renderStripLinesOfThicknessType("value");if(b)b.renderStripLinesOfThicknessType("value");if(c)c.renderStripLinesOfThicknessType("value");a.renderInterlacedColors();if(b)b.renderInterlacedColors();if(c)c.renderInterlacedColors();h.restore();a.renderGrid();if(b)b.renderGrid();if(c)c.renderGrid();a.renderAxisLine();if(b)b.renderAxisLine();if(c)c.renderAxisLine();a.renderStripLinesOfThicknessType("pixel");if(b)b.renderStripLinesOfThicknessType("pixel");if(c)c.renderStripLinesOfThicknessType("pixel")}else{var u=Math.ceil(a.createLabelsAndCalculateWidth());if(b){b.lineCoordinates={};f=Math.round(e.x1+u+a.margin);x2=Math.round(e.x2>b.chart.width-10?b.chart.width-10:e.x2);b.lineCoordinates.x1=f;b.lineCoordinates.x2=x2;b.lineCoordinates.width=Math.abs(x2-f)}if(c){c.lineCoordinates={};f=Math.round(e.x1+u+a.margin);x2=Math.round(e.x2>c.chart.width-10?c.chart.width-10:e.x2);c.lineCoordinates.x1=f;c.lineCoordinates.x2=x2;c.lineCoordinates.width=Math.abs(x2-f)}var v=Math.ceil(b?b.createLabelsAndCalculateHeight():0);var w=Math.ceil(c?c.createLabelsAndCalculateHeight():0);if(b){y1=Math.round(e.y2-v-b.margin);y2=Math.round(e.y2-o>b.chart.height-10?b.chart.height-10:e.y2-o);b.lineCoordinates.y1=y1;b.lineCoordinates.y2=y1;b.boundingRect={x1:f,y1:y1,x2:x2,y2:y2,width:x2-f,height:v}}if(c){y1=Math.round(e.y1+c.margin);y2=(e.y1+c.margin+w);c.lineCoordinates.y1=y2;c.lineCoordinates.y2=y2;c.boundingRect={x1:f,y1:y1,x2:x2,y2:y2,width:x2-f,height:w}}f=Math.round(e.x1+a.margin);y1=Math.round(c?c.lineCoordinates.y2:(e.y1<10?10:e.y1));x2=Math.round(e.x1+u+a.margin);y2=Math.round(b?b.lineCoordinates.y1:(e.y2-o>a.chart.height-10?a.chart.height-10:e.y2-o));a.lineCoordinates={x1:x2,y1:y1,x2:x2,y2:y2,height:Math.abs(y2-y1)};a.boundingRect={x1:f,y1:y1,x2:x2,y2:y2,width:x2-f,height:y2-y1};a.calculateValueToPixelconversionParameters();if(b)b.calculateValueToPixelconversionParameters();if(c)c.calculateValueToPixelconversionParameters();if(b)b.renderLabelsTicksAndTitle();if(c)c.renderLabelsTicksAndTitle();a.renderLabelsTicksAndTitle();g.preparePlotArea();var t=a.chart.plotArea;h.save();h.rect(t.x1,t.y1,Math.abs(t.x2-t.x1),Math.abs(t.y2-t.y1));h.clip();a.renderStripLinesOfThicknessType("value");if(b)b.renderStripLinesOfThicknessType("value");if(c)c.renderStripLinesOfThicknessType("value");a.renderInterlacedColors();if(b)b.renderInterlacedColors();if(c)c.renderInterlacedColors();h.restore();a.renderGrid();if(b)b.renderGrid();if(c)c.renderGrid();a.renderAxisLine();if(b)b.renderAxisLine();if(c)c.renderAxisLine();a.renderStripLinesOfThicknessType("pixel");if(b)b.renderStripLinesOfThicknessType("pixel");if(c)c.renderStripLinesOfThicknessType("pixel")}}Axis.prototype.renderLabelsTicksAndTitle=function(){var a=false;var b=0;var c=1;var d=0;var e=this.conversionParameters.pixelPerUnit*this.interval;if(this.labelAngle!==0&&this.labelAngle!==360)c=1.2;if(typeof(this._options.interval)==="undefined"){if(this._position==="bottom"||this._position==="top"){for(i=0;i<this._labels.length;i++){g=this._labels[i];if(g.position<this.minimum||g.stripLine)continue;var f=g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+g.textBlock.height*Math.sin(Math.PI/180*this.labelAngle);b+=f}if(b>this.lineCoordinates.width*c){a=true}}if(this._position==="left"||this._position==="right"){for(i=0;i<this._labels.length;i++){g=this._labels[i];if(g.position<this.minimum||g.stripLine)continue;var f=g.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+g.textBlock.width*Math.sin(Math.PI/180*this.labelAngle);b+=f}if(b>this.lineCoordinates.height*c){a=true}}}if(this._position==="bottom"){var i=0;var g;var h;for(i=0;i<this._labels.length;i++){g=this._labels[i];if(g.position<this.minimum||g.position>this.maximum)continue;h=this.getPixelCoordinatesOnAxis(g.position);if((this.tickThickness&&!this._labels[i].stripLine)||(this._labels[i].stripLine&&this._labels[i].stripLine._thicknessType==="pixel")){if(this._labels[i].stripLine){k=this._labels[i].stripLine;this.ctx.lineWidth=k.thickness;this.ctx.strokeStyle=k.color}else{this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor}var j=(this.ctx.lineWidth%2===1)?(h.x<<0)+.5:(h.x<<0);this.ctx.beginPath();this.ctx.moveTo(j,h.y<<0);this.ctx.lineTo(j,(h.y+this.tickLength)<<0);this.ctx.stroke()}if(a&&d++%2!==0&&!this._labels[i].stripLine)continue;if(g.textBlock.angle===0){h.x-=g.textBlock.width/2;h.y+=this.tickLength+g.textBlock.fontSize/2}else{h.x-=(this.labelAngle<0?(g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)):0);h.y+=this.tickLength+Math.abs((this.labelAngle<0?g.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}g.textBlock.x=h.x;g.textBlock.y=h.y;g.textBlock.render(true)}if(this.title){this._titleTextBlock=new TextBlock(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y2-this.titleFontSize-5,maxWidth:this.lineCoordinates.width,maxHeight:this.titleFontSize*1.5,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"});this._titleTextBlock.measureText();this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2;this._titleTextBlock.y=this.boundingRect.y2-this._titleTextBlock.height-2;this._titleTextBlock.render(true)}}else if(this._position==="top"){var i=0;var g;var h;var k;for(i=0;i<this._labels.length;i++){g=this._labels[i];if(g.position<this.minimum||g.position>this.maximum)continue;h=this.getPixelCoordinatesOnAxis(g.position);if((this.tickThickness&&!this._labels[i].stripLine)||(this._labels[i].stripLine&&this._labels[i].stripLine._thicknessType==="pixel")){if(this._labels[i].stripLine){k=this._labels[i].stripLine;this.ctx.lineWidth=k.thickness;this.ctx.strokeStyle=k.color}else{this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor}var j=(this.ctx.lineWidth%2===1)?(h.x<<0)+.5:(h.x<<0);this.ctx.beginPath();this.ctx.moveTo(j,h.y<<0);this.ctx.lineTo(j,(h.y-this.tickLength)<<0);this.ctx.stroke()}if(a&&d++%2!==0&&!this._labels[i].stripLine)continue;if(g.textBlock.angle===0){h.x-=g.textBlock.width/2;h.y-=this.tickLength+g.textBlock.height/2}else{h.x-=(this.labelAngle>0?(g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)):0);h.y-=this.tickLength+Math.abs((this.labelAngle>0?g.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5:5))}g.textBlock.x=h.x;g.textBlock.y=h.y;g.textBlock.render(true)}if(this.title){this._titleTextBlock=new TextBlock(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y1,maxWidth:this.lineCoordinates.width,maxHeight:this.titleFontSize*1.5,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"});this._titleTextBlock.measureText();this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2;this._titleTextBlock.render(true)}}else if(this._position==="left"){var g;var h;for(var i=0;i<this._labels.length;i++){g=this._labels[i];if(g.position<this.minimum||g.position>this.maximum)continue;h=this.getPixelCoordinatesOnAxis(g.position);if((this.tickThickness&&!this._labels[i].stripLine)||(this._labels[i].stripLine&&this._labels[i].stripLine._thicknessType==="pixel")){if(this._labels[i].stripLine){k=this._labels[i].stripLine;this.ctx.lineWidth=k.thickness;this.ctx.strokeStyle=k.color}else{this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor}var l=(this.ctx.lineWidth%2===1)?(h.y<<0)+.5:(h.y<<0);this.ctx.beginPath();this.ctx.moveTo(h.x<<0,l);this.ctx.lineTo((h.x-this.tickLength)<<0,l);this.ctx.stroke()}if(a&&d++%2!==0&&!this._labels[i].stripLine)continue;g.textBlock.x=h.x-(g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle))-this.tickLength-5;if(this.labelAngle===0){g.textBlock.y=h.y-g.textBlock.height/2+this.labelFontSize/2}else g.textBlock.y=h.y-(g.textBlock.width*Math.sin(Math.PI/180*this.labelAngle));g.textBlock.render(true)}if(this.title){this._titleTextBlock=new TextBlock(this.ctx,{x:this.boundingRect.x1+5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:this.titleFontSize*1.5,angle:-90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"});this._titleTextBlock.measureText();this._titleTextBlock.y=(this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1);this._titleTextBlock.render(true)}}else if(this._position==="right"){var g;var h;for(var i=0;i<this._labels.length;i++){g=this._labels[i];if(g.position<this.minimum||g.position>this.maximum)continue;h=this.getPixelCoordinatesOnAxis(g.position);if((this.tickThickness&&!this._labels[i].stripLine)||(this._labels[i].stripLine&&this._labels[i].stripLine._thicknessType==="pixel")){if(this._labels[i].stripLine){k=this._labels[i].stripLine;this.ctx.lineWidth=k.thickness;this.ctx.strokeStyle=k.color}else{this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor}var l=(this.ctx.lineWidth%2===1)?(h.y<<0)+.5:(h.y<<0);this.ctx.beginPath();this.ctx.moveTo(h.x<<0,l);this.ctx.lineTo((h.x+this.tickLength)<<0,l);this.ctx.stroke()}if(a&&d++%2!==0&&!this._labels[i].stripLine)continue;g.textBlock.x=h.x+this.tickLength+5;if(this.labelAngle===0){g.textBlock.y=h.y-g.textBlock.height/2+this.labelFontSize/2}else g.textBlock.y=h.y;g.textBlock.render(true)}if(this.title){this._titleTextBlock=new TextBlock(this.ctx,{x:this.boundingRect.x2-5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:this.titleFontSize*1.5,angle:90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"});this._titleTextBlock.measureText();this._titleTextBlock.y=(this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1);this._titleTextBlock.render(true)}}}Axis.prototype.renderInterlacedColors=function(){var a=this.chart.plotArea.ctx;var b;var c;var d=this.chart.plotArea;var i=0,renderInterlacedGrid=true;if((this._position==="bottom"||this._position==="top")&&this.interlacedColor){a.fillStyle=this.interlacedColor;for(i=0;i<this._labels.length;i++){if(this._labels[i].stripLine)continue;if(renderInterlacedGrid){b=this.getPixelCoordinatesOnAxis(this._labels[i].position);if(i+1>=this._labels.length)c=this.getPixelCoordinatesOnAxis(this.maximum);else c=this.getPixelCoordinatesOnAxis(this._labels[i+1].position);a.fillRect(b.x,d.y1,Math.abs(c.x-b.x),Math.abs(d.y1-d.y2));renderInterlacedGrid=false}else renderInterlacedGrid=true}}else if((this._position==="left"||this._position==="right")&&this.interlacedColor){a.fillStyle=this.interlacedColor;for(i=0;i<this._labels.length;i++){if(this._labels[i].stripLine)continue;if(renderInterlacedGrid){c=this.getPixelCoordinatesOnAxis(this._labels[i].position);if(i+1>=this._labels.length)b=this.getPixelCoordinatesOnAxis(this.maximum);else b=this.getPixelCoordinatesOnAxis(this._labels[i+1].position);a.fillRect(d.x1,b.y,Math.abs(d.x1-d.x2),Math.abs(b.y-c.y));renderInterlacedGrid=false}else renderInterlacedGrid=true}}a.beginPath()}Axis.prototype.renderStripLinesOfThicknessType=function(a){if(!(this.stripLines&&this.stripLines.length>0)||!a)return;var b=this.chart.plotArea.ctx;var c=this.chart._eventManager.ghostCtx;var i=0;for(i=0;i<this.stripLines.length;i++){var d=this.stripLines[i];if(d._thicknessType!==a)continue;if(a==="pixel"&&(d.value<this.minimum||d.value>this.maximum))continue;var e=this.getPixelCoordinatesOnAxis(d.value);var f=Math.abs(a==="pixel"?d.thickness:this.conversionParameters.pixelPerUnit*d.thickness);if(f<=0)continue;b.strokeStyle=d.color;b.beginPath();var g=intToHexColorString(d.id);var h,x2,y1,y2;b.lineWidth=f if(this._position==="bottom"||this._position==="top"){var j=(b.lineWidth%2===1)?(e.x<<0)+.5:(e.x<<0);h=x2=j;y1=this.chart.plotArea.y1;y2=this.chart.plotArea.y2}else if(this._position==="left"||this._position==="right"){var k=(b.lineWidth%2===1)?(e.y<<0)+.5:(e.y<<0);y1=y2=k;h=this.chart.plotArea.x1;x2=this.chart.plotArea.x2}b.moveTo(h,y1);b.lineTo(x2,y2);b.stroke()}}Axis.prototype.renderGrid=function(){if(!(this.gridThickness&&this.gridThickness>0))return;var a=this.chart.ctx;var b;var c=this.chart.plotArea;var d;var e,tempStrokeStyle;a.lineWidth=this.gridThickness;a.strokeStyle=this.gridColor;if(this._position==="bottom"||this._position==="top"){for(i=0;i<this._labels.length&&!this._labels[i].stripLine;i++){if(this._labels[i].position<this.minimum||this._labels[i].position>this.maximum)continue;a.beginPath();b=this.getPixelCoordinatesOnAxis(this._labels[i].position);var f=(a.lineWidth%2===1)?(b.x<<0)+.5:(b.x<<0);a.moveTo(f,c.y1<<0);a.lineTo(f,c.y2<<0);a.stroke()}}else if(this._position==="left"||this._position==="right"){for(var i=0;i<this._labels.length&&!this._labels[i].stripLine;i++){if(this._labels[i].position<this.minimum||this._labels[i].position>this.maximum)continue;a.beginPath();b=this.getPixelCoordinatesOnAxis(this._labels[i].position);var g=(a.lineWidth%2===1)?(b.y<<0)+.5:(b.y<<0);a.moveTo(c.x1<<0,g);a.lineTo(c.x2<<0,g);a.stroke()}}}Axis.prototype.renderAxisLine=function(){var a=this.chart.ctx;if(this._position==="bottom"||this._position==="top"){if(this.lineThickness){a.lineWidth=this.lineThickness;a.strokeStyle=this.lineColor?this.lineColor:"black";var b=(this.lineThickness%2===1)?(this.lineCoordinates.y1<<0)+.5:(this.lineCoordinates.y1<<0);a.beginPath();a.moveTo(this.lineCoordinates.x1,b);a.lineTo(this.lineCoordinates.x2,b);a.stroke()}}else if(this._position==="left"||this._position==="right"){if(this.lineThickness){a.lineWidth=this.lineThickness;a.strokeStyle=this.lineColor;var c=(this.lineThickness%2===1)?(this.lineCoordinates.x1<<0)+.5:(this.lineCoordinates.x1<<0);a.beginPath();a.moveTo(c,this.lineCoordinates.y1);a.lineTo(c,this.lineCoordinates.y2);a.stroke()}}}Axis.prototype.getPixelCoordinatesOnAxis=function(a){var b={};var c=this.lineCoordinates.width;var d=this.lineCoordinates.height;if(this._position==="bottom"||this._position==="top"){var e=c/Math.abs(this.maximum-this.minimum);b.x=this.lineCoordinates.x1+(e*(a-this.minimum));b.y=this.lineCoordinates.y1}if(this._position==="left"||this._position==="right"){var e=d/Math.abs(this.maximum-this.minimum);b.y=this.lineCoordinates.y2-(e*(a-this.minimum));b.x=this.lineCoordinates.x2}return b}Axis.prototype.getXValueAt=function(a){if(!a)return null;var b=null;if(this._position==="left"){b=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*((this.chart.axisX.lineCoordinates.y2-a.y))+this.chart.axisX.minimum}else if(this._position==="bottom"){b=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a.x-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum}return b}Axis.prototype.calculateValueToPixelconversionParameters=function(a){var b={};var c={pixelPerUnit:null,minimum:null,reference:null};var d=this.lineCoordinates.width;var e=this.lineCoordinates.height;c.minimum=this.minimum;if(this._position==="bottom"||this._position==="top"){c.pixelPerUnit=d/Math.abs(this.maximum-this.minimum);c.reference=this.lineCoordinates.x1}if(this._position==="left"||this._position==="right"){c.pixelPerUnit=-1*e/Math.abs(this.maximum-this.minimum);c.reference=this.lineCoordinates.y2}this.conversionParameters=c}Axis.prototype.calculateAxisParameters=function(){var a=this.chart.layoutManager.getFreeSpace();var b=0;var c=0;if(this._position==="bottom"||this._position==="top"){this.maxWidth=a.width;this.maxHeight=a.height}else{this.maxWidth=a.height;this.maxHeight=a.width}var d=this.type==="axisX"?(this.maxWidth<500?8:Math.max(6,Math.floor(this.maxWidth/62))):Math.floor(this.maxWidth/40);var e,max;var f;var g;if(this.type==="axisX"){e=(this.sessionVariables.internalMinimum!==null)?this.sessionVariables.internalMinimum:this.dataInfo.viewPortMin;max=(this.sessionVariables.internalMaximum!==null)?this.sessionVariables.internalMaximum:this.dataInfo.viewPortMax;if(max-e===0){max+=.4;e-=.4}if(this.dataInfo.minDiff!==Infinity)f=this.dataInfo.minDiff;else f=1}else if(this.type==="axisY"){e=typeof(this._options.minimum)==="undefined"?this.dataInfo.viewPortMin:this._options.minimum;max=typeof(this._options.maximum)==="undefined"?this.dataInfo.viewPortMax:this._options.maximum;if(max-e===0){max+=5;e-=5}else{}if(this.includeZero&&typeof(this._options.minimum)==="undefined"){if(e>0)e=0}if(this.includeZero&&typeof(this._options.maximum)==="undefined"){if(max<0)max=0}}if(this.type==="axisX"&&this.chart.plotInfo.axisXValueType==="dateTime"){g=max-e;if(!this.intervalType){if(g/(1*1)<=d){this.interval=1;this.intervalType="millisecond"}else if(g/(1*2)<=d){this.interval=2;this.intervalType="millisecond"}else if(g/(1*5)<=d){this.interval=5;this.intervalType="millisecond"}else if(g/(1*10)<=d){this.interval=10;this.intervalType="millisecond"}else if(g/(1*20)<=d){this.interval=20;this.intervalType="millisecond"}else if(g/(1*50)<=d){this.interval=50;this.intervalType="millisecond"}else if(g/(1*100)<=d){this.interval=100;this.intervalType="millisecond"}else if(g/(1*200)<=d){this.interval=200;this.intervalType="millisecond"}else if(g/(1*250)<=d){this.interval=250;this.intervalType="millisecond"}else if(g/(1*300)<=d){this.interval=300;this.intervalType="millisecond"}else if(g/(1*400)<=d){this.interval=400;this.intervalType="millisecond"}else if(g/(1*500)<=d){this.interval=500;this.intervalType="millisecond"}else if(g/(bk.secondDuration*1)<=d){this.interval=1;this.intervalType="second"}else if(g/(bk.secondDuration*2)<=d){this.interval=2;this.intervalType="second"}else if(g/(bk.secondDuration*5)<=d){this.interval=5;this.intervalType="second"}else if(g/(bk.secondDuration*10)<=d){this.interval=10;this.intervalType="second"}else if(g/(bk.secondDuration*15)<=d){this.interval=15;this.intervalType="second"}else if(g/(bk.secondDuration*20)<=d){this.interval=20;this.intervalType="second"}else if(g/(bk.secondDuration*30)<=d){this.interval=30;this.intervalType="second"}else if(g/(bk.minuteDuration*1)<=d){this.interval=1;this.intervalType="minute"}else if(g/(bk.minuteDuration*2)<=d){this.interval=2;this.intervalType="minute"}else if(g/(bk.minuteDuration*5)<=d){this.interval=5;this.intervalType="minute"}else if(g/(bk.minuteDuration*10)<=d){this.interval=10;this.intervalType="minute"}else if(g/(bk.minuteDuration*15)<=d){this.interval=15;this.intervalType="minute"}else if(g/(bk.minuteDuration*20)<=d){this.interval=20;this.intervalType="minute"}else if(g/(bk.minuteDuration*30)<=d){this.interval=30;this.intervalType="minute"}else if(g/(bk.hourDuration*1)<=d){this.interval=1;this.intervalType="hour"}else if(g/(bk.hourDuration*2)<=d){this.interval=2;this.intervalType="hour"}else if(g/(bk.hourDuration*3)<=d){this.interval=3;this.intervalType="hour"}else if(g/(bk.hourDuration*6)<=d){this.interval=6;this.intervalType="hour"}else if(g/(bk.dayDuration*1)<=d){this.interval=1;this.intervalType="day"}else if(g/(bk.dayDuration*2)<=d){this.interval=2;this.intervalType="day"}else if(g/(bk.dayDuration*4)<=d){this.interval=4;this.intervalType="day"}else if(g/(bk.weekDuration*1)<=d){this.interval=1;this.intervalType="week"}else if(g/(bk.weekDuration*2)<=d){this.interval=2;this.intervalType="week"}else if(g/(bk.weekDuration*3)<=d){this.interval=3;this.intervalType="week"}else if(g/(bk.monthDuration*1)<=d){this.interval=1;this.intervalType="month"}else if(g/(bk.monthDuration*2)<=d){this.interval=2;this.intervalType="month"}else if(g/(bk.monthDuration*3)<=d){this.interval=3;this.intervalType="month"}else if(g/(bk.monthDuration*6)<=d){this.interval=6;this.intervalType="month"}else if(g/(bk.yearDuration*1)<=d){this.interval=1;this.intervalType="year"}else if(g/(bk.yearDuration*2)<=d){this.interval=2;this.intervalType="year"}else if(g/(bk.yearDuration*4)<=d){this.interval=4;this.intervalType="year"}else{this.interval=Math.floor(Axis.getNiceNumber(g/(d-1),true)/bk.yearDuration);this.intervalType="year"}}if(this.sessionVariables.internalMinimum!==null)this.minimum=this.sessionVariables.internalMinimum;else{this.minimum=e-f/2}if(this.sessionVariables.internalMaximum)this.maximum=this.sessionVariables.internalMaximum;else this.maximum=max+f/2;if(!this.valueFormatString){if(this.intervalType==="year"){this.valueFormatString="YYYY"}else if(this.intervalType==="month"){this.valueFormatString="MMM YYYY"}else if(this.intervalType==="week"){this.valueFormatString="MMM DD YYYY"}else if(this.intervalType==="day"){this.valueFormatString="MMM DD YYYY"}else if(this.intervalType==="hour"){this.valueFormatString="hh:mm TT"}else if(this.intervalType==="minute"){this.valueFormatString="hh:mm TT"}else if(this.intervalType==="second"){this.valueFormatString="hh:mm:ss TT"}else if(this.intervalType==="millisecond"){this.valueFormatString="fff'ms'"}}this.intervalStartPosition=this.getLabelStartPoint(new Date(this.minimum),this.intervalType,this.interval)}else{this.intervalType="number";g=Axis.getNiceNumber(max-e,false);if(this._options&&this._options.interval)this.interval=this._options.interval;else{this.interval=Axis.getNiceNumber(g/(d-1),true)}if(this.sessionVariables.internalMinimum!==null)this.minimum=this.sessionVariables.internalMinimum;else this.minimum=Math.floor(e/this.interval)*this.interval;if(this.sessionVariables.internalMaximum!==null)this.maximum=this.sessionVariables.internalMaximum;else this.maximum=Math.ceil(max/this.interval)*this.interval;if(this.type==="axisX"){if(!(this.sessionVariables.internalMinimum!==null)){this.minimum=e-f/2}if(!this.sessionVariables.internalMaximum){this.maximum=max+f/2}this.intervalStartPosition=Math.floor((this.minimum+(this.interval*.2))/this.interval)*this.interval}else if(this.type==="axisY"){this.intervalStartPosition=this.minimum}}if(this.type==="axisX"){this._absoluteMinimum=this._options&&typeof(this._options.minimum)!=="undefined"?this._options.minimum:this.dataInfo.min-f/2;this._absoluteMaximum=this._options&&typeof(this._options.maximum)!=="undefined"?this._options.maximum:this.dataInfo.max+f/2}if(!this.valueFormatString){this.valueFormatString="#,##0.##";g=Math.abs(this.maximum-this.minimum);if(g<1){var h=Math.floor(Math.abs(Math.log(g)/Math.LN10))+2;if(h>2){for(var i=0;i<h-2;i++)this.valueFormatString+="#"}}}}Axis.getNiceNumber=function(x,a){var b=Math.floor(Math.log(x)/Math.LN10);var f=x/Math.pow(10,b);var c;if(a){if(f<1.5)c=1;else if(f<3)c=2;else if(f<7)c=5;else c=10}else{if(f<=1)c=1;else if(f<=2)c=2;else if(f<=5)c=5;else c=10}return c*Math.pow(10,b)}Axis.prototype.getLabelStartPoint=function(){var a=convertToNumber(this.interval,this.intervalType);var b=Math.floor((this.minimum)/a)*a;var c=new Date(b);if(this.intervalType==="millisecond"){}else if(this.intervalType==="second"){if(c.getMilliseconds()>0){c.setSeconds(c.getSeconds()+1);c.setMilliseconds(0)}}else if(this.intervalType==="minute"){if(c.getSeconds()>0||c.getMilliseconds()>0){c.setMinutes(c.getMinutes()+1);c.setSeconds(0);c.setMilliseconds(0)}}else if(this.intervalType==="hour"){if(c.getMinutes()>0||c.getSeconds()>0||c.getMilliseconds()>0){c.setHours(c.getHours()+1);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0)}}else if(this.intervalType==="day"){if(c.getHours()>0||c.getMinutes()>0||c.getSeconds()>0||c.getMilliseconds()>0){c.setDate(c.getDate()+1);c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0)}}else if(this.intervalType==="week"){if(c.getDay()>0||c.getHours()>0||c.getMinutes()>0||c.getSeconds()>0||c.getMilliseconds()>0){c.setDate(c.getDate()+(7-c.getDay()));c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0)}}else if(this.intervalType==="month"){if(c.getDate()>1||c.getHours()>0||c.getMinutes()>0||c.getSeconds()>0||c.getMilliseconds()>0){c.setMonth(c.getMonth()+1);c.setDate(1);c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0)}}else if(this.intervalType==="year"){if(c.getMonth()>0||c.getDate()>1||c.getHours()>0||c.getMinutes()>0||c.getSeconds()>0||c.getMilliseconds()>0){c.setFullYear(c.getFullYear()+1);c.setMonth(0);c.setDate(1);c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0)}}return c}function StripLine(a,b,c,d){StripLine.parent.constructor.call(this,"StripLine",b,c);this._thicknessType="pixel";this.id=d;if(this.startValue!==null&&this.endValue!==null){this.value=((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2;this.thickness=Math.max(this.endValue-this.startValue);this._thicknessType="value"}}extend(StripLine,CanvasJSObject);function ToolTip(a,b,c){ToolTip.parent.constructor.call(this,"ToolTip",b,c);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx;this.currentSeriesIndex=-1;this.currentDataPointIndex=-1;this._timerId=0;this._prevX=NaN;this._prevY=NaN;this._initialize()}extend(ToolTip,CanvasJSObject);ToolTip.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div");this.container.setAttribute("class","canvasjs-chart-tooltip");this.container.style.position="absolute";this.container.style.height="auto";this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)";this.container.style.zIndex="1000";this.container.style.display="none";var a="<div style=\" width: auto;";a+="height: auto;";a+="min-width: 50px;";a+="line-height: 20px;";a+="padding: 5px;";a+="font-family: Calibri, Arial, Georgia, serif;";a+="font-weight: 400;";a+="font-style: "+(bf?"italic;":"normal;");a+="font-size: 14px;";a+="color: #000000;";a+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);";a+="text-align: left;";a+="border: 2px solid gray;";a+=bf?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);";a+="text-indent: 0px;";a+="white-space: nowrap;";a+="border-radius: 10px;";if(!bf){a+="filter: alpha(opacity = 90);";a+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"}a+="} \"> Sample Tooltip</div>";this.container.innerHTML=a;this.contentDiv=this.container.firstChild;this.container.style.borderRadius=this.contentDiv.style.borderRadius;this.chart._canvasJSContainer.appendChild(this.container)}}ToolTip.prototype.mouseMoveHandler=function(x,y){if(!(this._lastUpdated&&(new Date().getTime()-this._lastUpdated)<40)){this._lastUpdated=new Date().getTime();this._updateToolTip(x,y)}}ToolTip.prototype._updateToolTip=function(c,d){if(!this.enabled)return;if(typeof(c)==="undefined"||typeof(d)==="undefined"){if(isNaN(this._prevX)||isNaN(this._prevY))return;else{c=this._prevX;d=this._prevY}}else{this._prevX=c;this._prevY=d}var f=null;var g=null;var h="";var j=[];var k;var l;var x=0;if(this.shared&&this.chart.plotInfo.axisPlacement!=="none"){if(this.chart.plotInfo.axisPlacement==="xySwapped"){x=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*((this.chart.axisX.lineCoordinates.y2-d))+this.chart.axisX.minimum}else{x=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(c-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum}var m=[];for(var i=0;i<this.chart.data.length;i++){var n=this.chart.data[i].getDataPointAtX(x,true);if(n&&n.index>=0){n.dataSeries=this.chart.data[i];if(n.dataPoint.y!==null)m.push(n)}}if(m.length===0)return;m.sort(function(a,b){return a.distance-b.distance});var o=m[0];for(i=0;i<m.length;i++){if(m[i].dataPoint.x.valueOf()===o.dataPoint.x.valueOf())j.push(m[i])}m=null}else{var p=this.chart.getDataPointAtXY(c,d,true);if(p){this.currentDataPointIndex=p.dataPointIndex;this.currentSeriesIndex=p.dataSeries.index}else if(bf){var q=getObjectId(c,d,this.chart._eventManager.ghostCtx);if(q>0&&typeof this.chart._eventManager.objectMap[q]!=="undefined"){eventObject=this.chart._eventManager.objectMap[q];this.currentSeriesIndex=eventObject.dataSeriesIndex;this.currentDataPointIndex=eventObject.dataPointIndex>=0?eventObject.dataPointIndex:-1}else this.currentDataPointIndex=-1}else this.currentDataPointIndex=-1;if(this.currentSeriesIndex>=0){g=this.chart.data[this.currentSeriesIndex];var n={};if(this.currentDataPointIndex>=0){f=g.dataPoints[this.currentDataPointIndex];n.dataSeries=g;n.dataPoint=f;n.index=this.currentDataPointIndex;n.distance=Math.abs(f.x-x)}else if(g.type==="line"||g.type==="stepLine"||g.type==="spline"||g.type==="area"||g.type==="stepArea"||g.type==="splineArea"||g.type==="stackedArea"||g.type==="stackedArea100"){var x=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(c-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum.valueOf();n=g.getDataPointAtX(x,true);n.dataSeries=g;this.currentDataPointIndex=n.index;f=n.dataPoint}else{return}if(n.dataPoint.y!==null)j.push(n)}}if(j.length>0){this.highlightObjects(j);var r="";r=this.getToolTipInnerHTML({entries:j});this.contentDiv.innerHTML=r;this.contentDiv.innerHTML=r;var s=false;if(this.container.style.display==="none"){s=true;this.container.style.display="block"}try{this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.borderColor?this.borderColor:j[0].dataPoint.color?j[0].dataPoint.color:j[0].dataSeries.color?j[0].dataSeries.color:j[0].dataSeries._colorSet[j[0].index%j[0].dataSeries._colorSet.length]}catch(e){}if(j[0].dataSeries.type==="pie"||j[0].dataSeries.type==="doughnut"||j[0].dataSeries.type==="bar"||j[0].dataSeries.type==="stackedBar"||j[0].dataSeries.type==="stackedBar100"){toolTipLeft=c-10-this.container.clientWidth}else{toolTipLeft=(((this.chart.axisX.lineCoordinates.width/Math.abs(this.chart.axisX.maximum-this.chart.axisX.minimum))*Math.abs(j[0].dataPoint.x-this.chart.axisX.minimum))+this.chart.axisX.lineCoordinates.x1+.5)-this.container.clientWidth<<0;toolTipLeft-=10}toolTipLeft=toolTipLeft>0?toolTipLeft+"px":toolTipLeft+this.container.clientWidth+20+"px";if(j.length===1&&!this.shared&&(j[0].dataSeries.type==="line"||j[0].dataSeries.type==="stepLine"||j[0].dataSeries.type==="spline"||j[0].dataSeries.type==="area"||j[0].dataSeries.type==="stepArea"||j[0].dataSeries.type==="splineArea"||j[0].dataSeries.type==="stackedArea"||j[0].dataSeries.type==="stackedArea100")){l=(j[0].dataSeries.axisY.lineCoordinates.y2-j[0].dataSeries.axisY.lineCoordinates.height/Math.abs(j[0].dataSeries.axisY.maximum-j[0].dataSeries.axisY.minimum)*Math.abs(j[0].dataPoint.y-j[0].dataSeries.axisY.minimum)+.5)<<0}else if(j[0].dataSeries.type==="bar"||j[0].dataSeries.type==="stackedBar"||j[0].dataSeries.type==="stackedBar100"){l=(j[0].dataSeries.axisX.lineCoordinates.y2-j[0].dataSeries.axisX.lineCoordinates.height/Math.abs(j[0].dataSeries.axisX.maximum-j[0].dataSeries.axisX.minimum)*Math.abs(j[0].dataPoint.x-j[0].dataSeries.axisX.minimum)+.5)<<0}else{l=d}l=(-l+10);if(l+this.container.clientHeight+5>0){l-=l+this.container.clientHeight+5-0}l+="px";this.container.style.left=toolTipLeft;this.container.style.bottom=l;if(!this.animationEnabled||s){this.disableAnimation()}else this.enableAnimation()}}ToolTip.prototype.highlightObjects=function(a){if(!this.enabled)return;var b=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas();b.save();var c=this.chart.plotArea;b.rect(c.x1,c.y1,c.width,c.height);b.clip();b.beginPath();for(var i=0;i<a.length;i++){var d=a[i];var e=this.chart._eventManager.objectMap[d.dataSeries.dataPointIds[d.index]];if(!e||!e.objectType||e.objectType!=="dataPoint")continue;var f=this.chart.data[e.dataSeriesIndex];var g=this.chart.data[e.dataPointIndex];var h=e.dataPointIndex;if(f.type==="line"||f.type==="stepLine"||f.type==="spline"||f.type==="scatter"||f.type==="area"||f.type==="stepArea"||f.type==="splineArea"||f.type==="stackedArea"||f.type==="stackedArea100"){var j=f.getMarkerProperties(h,e.x1,e.y1,this.chart.overlaidCanvasCtx);j.size=Math.max(j.size*1.5<<0,10);j.borderColor=j.borderColor||"#FFFFFF";j.borderThickness=j.borderThickness||Math.ceil(j.size*.1);bA.drawMarkers([j])}else if(f.type==="bubble"){var j=f.getMarkerProperties(h,e.x1,e.y1,this.chart.overlaidCanvasCtx);j.size=e.size;j.color="white";j.borderColor="white";b.globalAlpha=.3;bA.drawMarkers([j]);b.globalAlpha=1}else if(f.type==="column"||f.type==="stackedColumn"||f.type==="stackedColumn100"||f.type==="bar"||f.type==="stackedBar"||f.type==="stackedBar100"){b.globalAlpha=.3;bu(b,e.x1,e.y1,e.x2,e.y2,"white",false,false,false,false);b.globalAlpha=1}else if(f.type==="pie"||f.type==="doughnut"){b.globalAlpha=.3;bv(b,e.center,e.radius,"white",f.type,e.startAngle,e.endAngle);b.globalAlpha=1}continue}b.globalAlpha=1;b.restore();return}ToolTip.prototype.getToolTipInnerHTML=function(e){var a=e.entries;var b="";var c=null;var d=null;var f=0;var g=null;var h="";var j=true;for(var i=0;i<a.length;i++){if(a[i].dataSeries.toolTipContent||a[i].dataPoint.toolTipContent){j=false;break}}if(j&&this.content&&typeof(this.content)==="function"){b=this.content({entries:a})}else{if(a.length>1){for(var i=0;i<a.length;i++){c=a[i].dataSeries;d=a[i].dataPoint;f=a[i].index;h="";if(i===0&&j&&!this.content){h+=typeof(this.chart.axisX.labels[d.x])!=="undefined"?this.chart.axisX.labels[d.x]:"{x}";h+="</br>"}if(c.type==="line"||c.type==="stepLine"||c.type==="spline"||c.type==="area"||c.type==="stepArea"||c.type==="splineArea"||c.type==="column"||c.type==="bar"||c.type==="scatter"||c.type==="stackedColumn"||c.type==="stackedColumn100"||c.type==="stackedBar"||c.type==="stackedBar100"||c.type==="stackedArea"||c.type==="stackedArea100"){h+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&typeof(this.content)!=="function"?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}"}else if(c.type==="bubble"){h+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&typeof(this.content)!=="function"?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"}else if(c.type==="pie"||c.type==="doughnut"){h+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&typeof(this.content)!=="function"?this.content:"&nbsp;&nbsp;{y}"}b+=this.chart.replaceKeywordsWithValue(h,d,c,f);if(i<a.length-1)b+="</br>"}}else{c=a[0].dataSeries;d=a[0].dataPoint;f=a[0].index;if(c.type==="line"||c.type==="stepLine"||c.type==="spline"||c.type==="area"||c.type==="stepArea"||c.type==="splineArea"||c.type==="column"||c.type==="bar"||c.type==="scatter"||c.type==="stackedColumn"||c.type==="stackedColumn100"||c.type==="stackedBar"||c.type==="stackedBar100"||c.type==="stackedArea"||c.type==="stackedArea100"){h=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&typeof(this.content)!=="function"?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y}"}else if(c.type==="bubble"){h=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&typeof(this.content)!=="function"?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"}else if(c.type==="pie"||c.type==="doughnut"){h=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&typeof(this.content)!=="function"?this.content:(d.name?"{name}:&nbsp;&nbsp;":d.label?"{label}:&nbsp;&nbsp;":"")+"{y}"}b+=this.chart.replaceKeywordsWithValue(h,d,c,f)}}return b}ToolTip.prototype.enableAnimation=function(){if(this.container.style.WebkitTransition)return;this.container.style.WebkitTransition="left .2s ease-out, bottom .2s ease-out";this.container.style.MozTransition="left .2s ease-out, bottom .2s ease-out";this.container.style.MsTransition="left .2s ease-out, bottom .2s ease-out";this.container.style.transition="left .2s ease-out, bottom .2s ease-out"}ToolTip.prototype.disableAnimation=function(){if(!this.container.style.WebkitTransition)return;this.container.style.WebkitTransition="";this.container.style.MozTransition="";this.container.style.MsTransition="";this.container.style.transition=""}ToolTip.prototype.hide=function(){if(!this.enabled)return;this.container.style.display="none";this.currentSeriesIndex=-1;this._prevX=NaN;this._prevY=NaN;this.chart.resetOverlayedCanvas()}Chart.prototype.replaceKeywordsWithValue=function(d,e,f,g){var h=/\{\s*[a-zA-Z]+\s*\}|"[^"]*"|'[^']*'/g;var i=this;var j=function(a){if((a[0]==="\""&&a[a.length-1]==="\"")||(a[0]==="\'"&&a[a.length-1]==="\'"))return a.slice(1,a.length-1);var b=trimString(a.slice(1,a.length-1));var c=null;if(b==="color"){return e.color?e.color:f.color?f.color:f._colorSet[g%f._colorSet.length]}if(e.hasOwnProperty(b))c=e;else if(f.hasOwnProperty(b))c=f;else return"";if(b==="x"){if(i.axisX&&i.plotInfo.axisXValueType==="dateTime")return bn(c[b],e.xValueFormatString?e.xValueFormatString:f.xValueFormatString?f.xValueFormatString:i.axisX&&i.axisX.valueFormatString?i.axisX.valueFormatString:"DD MMM YY",i._cultureInfo);else return bo(c[b],e.xValueFormatString?e.xValueFormatString:f.xValueFormatString?f.xValueFormatString:"#,##0.########",i._cultureInfo)}else if(b==="y")return bo(c[b],e.yValueFormatString?e.yValueFormatString:f.yValueFormatString?f.yValueFormatString:"#,##0.########",i._cultureInfo);else return c[b]}return d.replace(h,j)}function EventManager(b){this.chart=b;this.lastObjectId=0;var c=this;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.ghostCanvas=createCanvas(this.chart.width,this.chart.height);this.ghostCtx=this.ghostCanvas.getContext("2d");var d=function(a){c.mouseEventHandler.call(c,a)};this.mouseoveredObjectMaps=[]}EventManager.prototype.reset=function(){this.lastObjectId=0;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.eventObjects=[];if(bf){this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height);this.ghostCtx.beginPath()}}EventManager.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId}EventManager.prototype.mouseEventHandler=function(a){if(a.type!=="mousemove"&&a.type!=="click")return;var b=[];var c=bp(a);var d=null;d=this.chart.getObjectAtXY(c.x,c.y,false);if(d&&typeof(this.objectMap[d])!=="undefined"){var e=this.objectMap[d];if(e.objectType==="dataPoint"){var f=this.chart.data[e.dataSeriesIndex];var g=f.dataPoints[e.dataPointIndex];var h=e.dataPointIndex;e.eventParameter={x:c.x,y:c.y,dataPoint:g,dataSeries:f._options,dataPointIndex:h,dataSeriesIndex:f.index};e.eventContext={context:g,userContext:g,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"};b.push(e);e=this.objectMap[f.id];e.eventParameter={x:c.x,y:c.y,dataPoint:g,dataSeries:f._options,dataPointIndex:h,dataSeriesIndex:f.index};e.eventContext={context:f,userContext:f._options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"};b.push(this.objectMap[f.id])}else if(e.objectType==="legendItem"){var f=this.chart.data[e.dataSeriesIndex];var g=f.dataPoints[e.dataPointIndex];e.eventParameter={x:c.x,y:c.y,dataSeries:f._options,dataPoint:g,dataPointIndex:e.dataPointIndex,dataSeriesIndex:e.dataSeriesIndex};e.eventContext={context:this.chart.legend,userContext:this.chart.legend._options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"};b.push(e)}}var k=[];for(var i=0;i<this.mouseoveredObjectMaps.length;i++){var l=true;for(var j=0;j<b.length;j++){if(b[j].id===this.mouseoveredObjectMaps[i].id){l=false;break}}if(l){this.fireEvent(this.mouseoveredObjectMaps[i],"mouseout",a)}else{k.push(this.mouseoveredObjectMaps[i])}}this.mouseoveredObjectMaps=k;for(var i=0;i<b.length;i++){var m=false;for(var j=0;j<this.mouseoveredObjectMaps.length;j++){if(b[i].id===this.mouseoveredObjectMaps[j].id){m=true;break}}if(!m){this.fireEvent(b[i],"mouseover",a);this.mouseoveredObjectMaps.push(b[i])}if(a.type==="click"){this.fireEvent(b[i],"click",a)}else if(a.type==="mousemove"){this.fireEvent(b[i],"mousemove",a)}}}EventManager.prototype.fireEvent=function(a,b,c){if(!a||!b)return;var d=a.eventParameter;var e=a.eventContext;var f=a.eventContext.userContext if(f&&e&&f[e[b]])f[e[b]].call(f,d);if(b!=="mouseout"){if(f.cursor&&f.cursor!==c.target.style.cursor){c.target.style.cursor=f.cursor}}else{c.target.style.cursor=this.chart._defaultCursor;delete a.eventParameter;delete a.eventContext}if(b==="click"&&a.objectType==="dataPoint"&&this.chart.pieDoughnutClickHandler){this.chart.pieDoughnutClickHandler.call(this.chart.data[a.dataSeriesIndex],d)}}function CultureInfo(a,b){var c;if(b&&bh[b])c=bh[b];Title.parent.constructor.call(this,"CultureInfo",c,a.theme);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx}extend(CultureInfo,CanvasJSObject);var bA={drawMarker:function(x,y,a,b,c,d,e,f){if(!a)return;var g=1;a.fillStyle=d?d:"#000000";a.strokeStyle=e?e:"#000000";a.lineWidth=f?f:0;if(b==="circle"){a.moveTo(x,y);a.beginPath();a.arc(x,y,c/2,0,Math.PI*2,false);if(d)a.fill();if(f){if(!e){g=a.globalAlpha;a.globalAlpha=.15;a.strokeStyle="black";a.stroke();a.globalAlpha=g}else a.stroke()}}else if(b==="square"){a.beginPath();a.rect(x-c/2,y-c/2,c,c);if(d)a.fill();if(f){if(!e){g=a.globalAlpha;a.globalAlpha=.15;a.strokeStyle="black";a.stroke();a.globalAlpha=g}else a.stroke()}}else if(b==="triangle"){a.beginPath();a.moveTo(x-c/2,y+c/2);a.lineTo(x+c/2,y+c/2);a.lineTo(x,y-c/2);a.closePath();if(d)a.fill();if(f){if(!e){g=a.globalAlpha;a.globalAlpha=.15;a.strokeStyle="black";a.stroke();a.globalAlpha=g}else a.stroke()}a.beginPath()}else if(b==="cross"){a.strokeStyle=d;f=c/4;a.lineWidth=f;a.beginPath();a.moveTo(x-c/2,y-c/2);a.lineTo(x+c/2,y+c/2);a.stroke();a.moveTo(x+c/2,y-c/2);a.lineTo(x-c/2,y+c/2);a.stroke()}},drawMarkers:function(a){for(var i=0;i<a.length;i++){var b=a[i];bA.drawMarker(b.x,b.y,b.ctx,b.type,b.size,b.color,b.borderColor,b.borderThickness)}}}var bB={Chart:function(a,b){var c=new Chart(a,b,this);this.render=function(){c.render(this.options)};this.options=c._options},addColorSet:function(a,b){bi[a]=b},addCultureInfo:function(a,b){bh[a]=b}}bB.Chart.version="v1.4.1 GA";window.CanvasJS=bB})();
